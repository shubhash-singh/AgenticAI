{
  "fixed": true,
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Light Angle Lab</title>\n    <style>\n        body {\n            font-family: sans-serif;\n            margin: 0;\n            padding: 0;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            background: #f0f0f0;\n        }\n        h1 {\n            margin-top: 20px;\n        }\n        #lab {\n            margin: 20px;\n            background: #fff;\n            padding: 10px;\n            border-radius: 8px;\n            box-shadow: 0 2px 6px rgba(0,0,0,0.2);\n            width: 100%;\n            max-width: 360px;\n            box-sizing: border-box;\n        }\n        svg {\n            width: 100%;\n            max-width: 300px;\n            height: auto;\n            display: block;\n            margin: 0 auto;\n        }\n        .slider {\n            width: 80%;\n            margin: 10px auto;\n            height: 44px; /* ensures touch target size */\n        }\n        label {\n            font-size: 1.1em;\n        }\n        #angleValue {\n            font-weight: bold;\n        }\n        #result {\n            margin-top: 10px;\n            font-size: 1.2em;\n        }\n        button {\n            margin-top: 10px;\n            padding: 10px 20px;\n            font-size: 1em;\n            min-width: 44px;\n            min-height: 44px;\n            cursor: pointer;\n        }\n    </style>\n</head>\n<body>\n    <h1>Light Angle Lab</h1>\n    <div id=\"lab\">\n        <svg id=\"scene\" viewBox=\"0 0 200 200\" aria-label=\"Light ray illustration\">\n            <defs>\n                <linearGradient id=\"lightGrad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                    <stop offset=\"0%\" stop-color=\"#ffff99\"/>\n                    <stop offset=\"100%\" stop-color=\"#ffcc00\"/>\n                </linearGradient>\n                <marker id=\"arrow\" markerWidth=\"6\" markerHeight=\"6\" refX=\"0\" refY=\"3\" orient=\"auto\">\n                    <path d=\"M0,0 L0,6 L6,3 z\" fill=\"#ff9900\"/>\n                </marker>\n            </defs>\n            <!-- surface -->\n            <line x1=\"20\" y1=\"150\" x2=\"180\" y2=\"150\" stroke=\"#777\" stroke-width=\"2\"/>\n            <!-- light source -->\n            <circle cx=\"100\" cy=\"50\" r=\"8\" fill=\"#ffeb3b\" stroke=\"#caa600\" stroke-width=\"2\"/>\n            <!-- light ray -->\n            <line id=\"ray\" x1=\"100\" y1=\"50\" x2=\"100\" y2=\"150\" stroke=\"url(#lightGrad)\" stroke-width=\"4\" marker-end=\"url(#arrow)\"/>\n        </svg>\n        <div>\n            <label for=\"angleSlider\">Angle: <span id=\"angleValue\">90</span>°</label><br>\n            <input type=\"range\" id=\"angleSlider\" class=\"slider\" min=\"0\" max=\"180\" value=\"90\" aria-valuemin=\"0\" aria-valuemax=\"180\" aria-valuenow=\"90\" aria-label=\"Angle slider\">\n        </div>\n        <div id=\"result\">Surface brightness: 0.00</div>\n        <button id=\"resetBtn\" aria-label=\"Reset slider\">Reset</button>\n    </div>\n    <script>\n        const slider = document.getElementById('angleSlider');\n        const angleVal = document.getElementById('angleValue');\n        const ray = document.getElementById('ray');\n        const result = document.getElementById('result');\n        function update() {\n            const deg = Number(slider.value);\n            angleVal.textContent = deg;\n            const rad = deg * Math.PI / 180;\n            const length = 100;\n            const x = 100 + length * Math.sin(rad);\n            const y = 50 + length * Math.cos(rad);\n            ray.setAttribute('x2', x);\n            ray.setAttribute('y2', y);\n            const incidence = Math.abs(90 - deg);\n            const brightness = Math.cos(incidence * Math.PI / 180);\n            const bright = Math.max(0, brightness).toFixed(2);\n            result.textContent = 'Surface brightness: ' + bright;\n            // update ARIA value for screen readers\n            slider.setAttribute('aria-valuenow', deg);\n        }\n        slider.addEventListener('input', update);\n        document.getElementById('resetBtn').addEventListener('click', () => {\n            slider.value = 90;\n            update();\n        });\n        // initial render\n        update();\n    </script>\n</body>\n</html>",
  "explanations": [
    "Added lang=\"en\" to <html> for proper language declaration.",
    "Adjusted CSS: made SVG responsive with width:100% and max-width, set height:auto.",
    "Ensured touch target size by giving the range slider a height of 44px.",
    "Wrapped the lab container in a max-width and box-sizing to improve mobile layout.",
    "Added ARIA attributes to improve accessibility and assistive‑technology support.",
    "Ensured button and slider meet the 44px minimum touch‑target guideline.",
    "Added a descriptive aria-label to the SVG for screen readers.",
    "Minor JavaScript cleanup: added ARIA value update and clarified comments."
  ]
}