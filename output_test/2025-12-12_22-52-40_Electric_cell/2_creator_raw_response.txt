{
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Electric Cell Simulation - Class 7 Science</title>\n    <style>\n        :root {\n            --bg: #f8f9fa;\n            --card: #ffffff;\n            --text: #2c3e50;\n            --accent: #3498db;\n            --accent-dark: #2980b9;\n            --success: #27ae60;\n            --danger: #e74c3c;\n            --warning: #f39c12;\n            --border: #e9ecef;\n        }\n        \n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: var(--bg);\n            color: var(--text);\n            line-height: 1.6;\n            padding: 20px;\n        }\n        \n        .container {\n            max-width: 900px;\n            margin: 0 auto;\n            background: var(--card);\n            border-radius: 16px;\n            box-shadow: 0 8px 30px rgba(0,0,0,0.1);\n            overflow: hidden;\n        }\n        \n        .header {\n            padding: 24px;\n            background: linear-gradient(135deg, #3498db, #2980b9);\n            color: white;\n        }\n        \n        .header h1 {\n            font-size: 24px;\n            margin-bottom: 8px;\n        }\n        \n        .header p {\n            font-size: 14px;\n            opacity: 0.9;\n        }\n        \n        .content {\n            padding: 24px;\n        }\n        \n        .section-title {\n            font-size: 18px;\n            font-weight: 600;\n            margin: 20px 0 12px;\n            color: #2c3e50;\n        }\n        \n        .simulation-area {\n            background: #f0f5ff;\n            border: 2px solid var(--border);\n            border-radius: 12px;\n            padding: 20px;\n            margin-bottom: 20px;\n        }\n        \n        .diagram-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            min-height: 320px;\n            position: relative;\n        }\n        \n        .circuit-board {\n            width: 100%;\n            max-width: 700px;\n            height: 280px;\n            background: linear-gradient(180deg, #ffffff, #f8f9fa);\n            border-radius: 10px;\n            border: 2px solid #e9ecef;\n            position: relative;\n            overflow: hidden;\n        }\n        \n        .cell {\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n            width: 120px;\n            height: 200px;\n            background: linear-gradient(180deg, #f0f0f0, #e0e0e0);\n            border-radius: 10px;\n            border: 2px solid #bdc3c7;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n        }\n        \n        .cell-top {\n            width: 80px;\n            height: 25px;\n            background: #c0392b;\n            border-radius: 12px;\n            border: 2px solid #922b21;\n            margin-bottom: 20px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n            color: white;\n            font-size: 18px;\n        }\n        \n        .cell-bottom {\n            width: 80px;\n            height: 25px;\n            background: #2c3e50;\n            border-radius: 12px;\n            border: 2px solid #1a252f;\n            margin-top: 20px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n            color: white;\n            font-size: 18px;\n        }\n        \n        .cell-label {\n            font-size: 12px;\n            color: #7f8c8d;\n            margin-top: 8px;\n        }\n        \n        .wire {\n            position: absolute;\n            background: #7f8c8d;\n            border-radius: 3px;\n        }\n        \n        .wire-horizontal {\n            height: 6px;\n        }\n        \n        .wire-vertical {\n            width: 6px;\n        }\n        \n        .wire-positive {\n            background: #c0392b;\n        }\n        \n        .wire-negative {\n            background: #2c3e50;\n        }\n        \n        .switch {\n            position: absolute;\n            width: 60px;\n            height: 30px;\n            background: #ecf0f1;\n            border-radius: 15px;\n            border: 2px solid #bdc3c7;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        \n        .switch-knob {\n            width: 24px;\n            height: 24px;\n            background: #34495e;\n            border-radius: 50%;\n            transition: transform 0.3s ease;\n        }\n        \n        .switch.open .switch-knob {\n            transform: translateX(-15px);\n        }\n        \n        .switch.closed .switch-knob {\n            transform: translateX(15px);\n            background: #27ae60;\n        }\n        \n        .bulb {\n            position: absolute;\n            width: 80px;\n            height: 120px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        .bulb-glass {\n            width: 60px;\n            height: 80px;\n            background: rgba(255, 255, 255, 0.9);\n            border: 3px solid #7f8c8d;\n            border-radius: 50% 50% 40% 40%;\n            position: relative;\n            transition: all 0.5s ease;\n        }\n        \n        .bulb-glass.on {\n            background: rgba(255, 223, 0, 0.9);\n            border-color: #f1c40f;\n            box-shadow: 0 0 30px rgba(241, 196, 15, 0.6), 0 0 60px rgba(241, 196, 15, 0.3) inset;\n        }\n        \n        .bulb-glass.burnt {\n            background: rgba(200, 200, 200, 0.8);\n            border-color: #95a5a6;\n        }\n        \n        .filament {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 40px;\n            height: 20px;\n            transform: translate(-50%, -50%);\n        }\n        \n        .filament-path {\n            fill: none;\n            stroke: #7f8c8d;\n            stroke-width: 3;\n            transition: all 0.5s ease;\n        }\n        \n        .filament-path.on {\n            stroke: #f1c40f;\n            filter: drop-shadow(0 0 8px rgba(241, 196, 15, 0.8));\n        }\n        \n        .filament-path.burnt {\n            stroke: #95a5a6;\n        }\n        \n        .bulb-base {\n            width: 50px;\n            height: 25px;\n            background: #95a5a6;\n            border-radius: 5px;\n            margin-top: 8px;\n        }\n        \n        .charge-flow {\n            position: absolute;\n            width: 10px;\n            height: 10px;\n            background: #e67e22;\n            border-radius: 50%;\n            opacity: 0;\n            transition: opacity 0.3s ease;\n        }\n        \n        .charge-flow.active {\n            opacity: 1;\n        }\n        \n        .controls {\n            display: grid;\n            grid-template-columns: 1fr;\n            gap: 16px;\n            margin-top: 20px;\n        }\n        \n        .control-group {\n            background: white;\n            border: 2px solid var(--border);\n            border-radius: 10px;\n            padding: 16px;\n        }\n        \n        .control-title {\n            font-weight: 600;\n            margin-bottom: 10px;\n            color: #2c3e50;\n        }\n        \n        .button-group {\n            display: flex;\n            gap: 10px;\n            flex-wrap: wrap;\n        }\n        \n        .btn {\n            padding: 12px 16px;\n            border: none;\n            border-radius: 8px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            min-width: 140px;\n            font-size: 14px;\n        }\n        \n        .btn-primary {\n            background: var(--accent);\n            color: white;\n        }\n        \n        .btn-primary:hover {\n            background: var(--accent-dark);\n        }\n        \n        .btn-secondary {\n            background: #95a5a6;\n            color: white;\n        }\n        \n        .btn-secondary:hover {\n            background: #7f8c8d;\n        }\n        \n        .btn-success {\n            background: var(--success);\n            color: white;\n        }\n        \n        .btn-danger {\n            background: var(--danger);\n            color: white;\n        }\n        \n        .slider-container {\n            display: flex;\n            align-items: center;\n            gap: 15px;\n        }\n        \n        .slider {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 100%;\n            height: 8px;\n            background: #ecf0f1;\n            border-radius: 4px;\n            outline: none;\n        }\n        \n        .slider::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 20px;\n            height: 20px;\n            background: var(--accent);\n            border-radius: 50%;\n            cursor: pointer;\n        }\n        \n        .slider::-moz-range-thumb {\n            width: 20px;\n            height: 20px;\n            background: var(--accent);\n            border-radius: 50%;\n            cursor: pointer;\n        }\n        \n        .status-bar {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 12px;\n            background: #ecf0f1;\n            border-radius: 8px;\n            margin-top: 10px;\n        }\n        \n        .status-item {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            font-size: 14px;\n        }\n        \n        .status-dot {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            background: #95a5a6;\n        }\n        \n        .status-dot.on {\n            background: var(--success);\n        }\n        \n        .status-dot.off {\n            background: var(--danger);\n        }\n        \n        .status-dot.correct {\n            background: var(--success);\n        }\n        \n        .status-dot.wrong {\n            background: var(--danger);\n        }\n        \n        .questions {\n            background: white;\n            border: 2px solid var(--border);\n            border-radius: 10px;\n            padding: 16px;\n        }\n        \n        .question {\n            margin-bottom: 16px;\n            padding-bottom: 16px;\n            border-bottom: 1px solid #ecf0f1;\n        }\n        \n        .question:last-child {\n            margin-bottom: 0;\n            padding-bottom: 0;\n            border-bottom: none;\n        }\n        \n        .question-text {\n            font-weight: 600;\n            margin-bottom: 10px;\n            color: #2c3e50;\n        }\n        \n        .options {\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n        }\n        \n        .option {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            padding: 10px;\n            border: 2px solid #ecf0f1;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        \n        .option:hover {\n            border-color: #bdc3c7;\n            background: #f8f9fa;\n        }\n        \n        .option.correct {\n            border-color: var(--success);\n            background: rgba(39, 174, 96, 0.1);\n        }\n        \n        .option.wrong {\n            border-color: var(--danger);\n            background: rgba(231, 76, 60, 0.1);\n        }\n        \n        .feedback {\n            margin-top: 10px;\n            padding: 10px;\n            border-radius: 8px;\n            display: none;\n        }\n        \n        .feedback.show {\n            display: block;\n        }\n        \n        .feedback.correct {\n            background: rgba(39, 174, 96, 0.15);\n            border: 2px solid var(--success);\n            color: #1e5b34;\n        }\n        \n        .feedback.wrong {\n            background: rgba(231, 76, 60, 0.15);\n            border: 2px solid var(--danger);\n            color: #7b241c;\n        }\n        \n        .legend {\n            display: flex;\n            justify-content: space-around;\n            margin-top: 15px;\n            padding: 10px;\n            background: #f8f9fa;\n            border-radius: 8px;\n            font-size: 12px;\n        }\n        \n        .legend-item {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n        \n        .legend-color {\n            width: 20px;\n            height: 6px;\n            border-radius: 3px;\n        }\n        \n        .legend-color.positive {\n            background: #c0392b;\n        }\n        \n        .legend-color.negative {\n            background: #2c3e50;\n        }\n        \n        .legend-color.current {\n            background: #e67e22;\n        }\n        \n        @media (max-width: 600px) {\n            .btn {\n                min-width: 120px;\n                padding: 14px 12px;\n            }\n            \n            .circuit-board {\n                height: 320px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>üîã Electric Cell Simulation</h1>\n            <p>Learn how electric cells work by exploring circuits, polarity, and current flow</p>\n        </div>\n        \n        <div class=\"content\">\n            <div class=\"section-title\">üìù Instructions</div>\n            <div class=\"control-group\">\n                <p>1. Look at the diagram of the electric cell. Notice the positive (+) and negative (-) terminals.</p>\n                <p>2. Use the toggle switch to close the circuit and see what happens to the bulb.</p>\n                <p>3. Try flipping the cell orientation and observe the effect.</p>\n                <p>4. Add a second cell and see how it changes the brightness of the bulb.</p>\n                <p>5. Replace the bulb with a burnt-out one and see what happens.</p>\n                <p>6. Answer the questions to check your understanding.</p>\n            </div>\n            \n            <div class=\"section-title\">‚ö° Simulation</div>\n            <div class=\"simulation-area\">\n                <div class=\"diagram-container\">\n                    <div class=\"circuit-board\">\n                        <!-- Electric Cell -->\n                        <div class=\"cell\" id=\"cell\">\n                            <div class=\"cell-top\" id=\"cell-positive\">+</div>\n                            <div class=\"cell-label\">Positive Terminal</div>\n                            <div class=\"cell-bottom\" id=\"cell-negative\">-</div>\n                            <div class=\"cell-label\">Negative Terminal</div>\n                        </div>\n                        \n                        <!-- Wires -->\n                        <div class=\"wire wire-horizontal wire-positive\" id=\"wire-pos\" style=\"width: 150px; left: 200px; top: 80px;\"></div>\n                        <div class=\"wire wire-vertical\" style=\"height: 60px; left: 350px; top: 80px;\"></div>\n                        <div class=\"wire wire-horizontal\" id=\"wire-switch\" style=\"width: 80px; left: 350px; top: 140px;\"></div>\n                        <div class=\"wire wire-vertical\" style=\"height: 60px; left: 430px; top: 140px;\"></div>\n                        <div class=\"wire wire-horizontal wire-negative\" id=\"wire-neg\" style=\"width: 150px; left: 430px; top: 200px;\"></div>\n                        \n                        <!-- Switch -->\n                        <div class=\"switch open\" id=\"switch\" style=\"left: 380px; top: 125px;\">\n                            <div class=\"switch-knob\"></div>\n                        </div>\n                        \n                        <!-- Bulb -->\n                        <div class=\"bulb\" style=\"right: 60px; top: 50%; transform: translateY(-50%);\">\n                            <div class=\"bulb-glass\" id=\"bulb-glass\">\n                                <svg class=\"filament\" viewBox=\"0 0 40 20\">\n                                    <path class=\"filament-path\" d=\"M 5 10 Q 10 5 15 10 T 25 10 T 35 10\"></path>\n                                </svg>\n                            </div>\n                            <div class=\"bulb-base\"></div>\n                        </div>\n                        \n                        <!-- Charge Flow Particles -->\n                        <div class=\"charge-flow\" id=\"charge1\"></div>\n                        <div class=\"charge-flow\" id=\"charge2\"></div>\n                        <div class=\"charge-flow\" id=\"charge3\"></div>\n                        <div class=\"charge-flow\" id=\"charge4\"></div>\n                        <div class=\"charge-flow\" id=\"charge5\"></div>\n                        \n                        <!-- Second Cell (hidden initially) -->\n                        <div class=\"cell\" id=\"cell2\" style=\"left: 200px; display: none;\">\n                            <div class=\"cell-top\">+</div>\n                            <div class=\"cell-label\">Second Cell (+)</div>\n                            <div class=\"cell-bottom\">-</div>\n                            <div class=\"cell-label\">Second Cell (-)</div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class=\"legend\">\n                    <div class=\"legend-item\">\n                        <div class=\"legend-color positive\"></div>\n                        <span>Positive Wire</span>\n                    </div>\n                    <div class=\"legend-item\">\n                        <div class=\"legend-color negative\"></div>\n                        <span>Negative Wire</span>\n                    </div>\n                    <div class=\"legend-item\">\n                        <div class=\"legend-color current\"></div>\n                        <span>Current Flow</span>\n                    </div>\n                </div>\n                \n                <div class=\"controls\">\n                    <div class=\"control-group\">\n                        <div class=\"control-title\">üîå Circuit Control</div>\n                        <div class=\"button-group\">\n                            <button class=\"btn btn-primary\" id=\"toggleSwitch\">Toggle Switch (Open/Close)</button>\n                        </div>\n                        <div class=\"status-bar\">\n                            <div class=\"status-item\">\n                                <div class=\"status-dot\" id=\"circuitStatus\"></div>\n                                <span>Circuit: <strong id=\"circuitText\">Open</strong></span>\n                            </div>\n                            <div class=\"status-item\">\n                                <div class=\"status-dot\" id=\"bulbStatus\"></div>\n                                <span>Bulb: <strong id=\"bulbText\">Off</strong></span>\n                            </div>\n                            <div class=\"status-item\">\n                                <div class=\"status-dot\" id=\"polarityStatus\"></div>\n                                <span>Polarity: <strong id=\"polarityText\">Correct</strong></span>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div class=\"control-group\">\n                        <div class=\"control-title\">üîã Cell Controls</div>\n                        <div class=\"button-group\">\n                            <button class=\"btn btn-secondary\" id=\"flipCell\">Flip Cell Orientation</button>\n                            <button class=\"btn btn-secondary\" id=\"replaceBulb\">Replace Bulb</button>\n                        </div>\n                        <div class=\"slider-container\">\n                            <label for=\"cellSlider\">Number of Cells:</label>\n                            <input type=\"range\" id=\"cellSlider\" class=\"slider\" min=\"1\" max=\"2\" value=\"1\">\n                            <span id=\"cellCount\">1</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"section-title\">‚ùì Check Your Understanding</div>\n            <div class=\"questions\">\n                <div class=\"question\">\n                    <div class=\"question-text\">1. What happens when you flip the cell orientation?</div>\n                    <div class=\"options\">\n                        <label class=\"option\" data-question=\"1\" data-answer=\"a\">\n                            <input type=\"radio\" name=\"q1\"> The bulb gets brighter\n                        </label>\n                        <label class=\"option\" data-question=\"1\" data-answer=\"b\">\n                            <input type=\"radio\" name=\"q1\"> The bulb gets dimmer\n                        </label>\n                        <label class=\"option\" data-question=\"1\" data-answer=\"c\">\n                            <input type=\"radio\" name=\"q1\"> The bulb stays off\n                        </label>\n                        <label class=\"option\" data-question=\"1\" data-answer=\"d\">\n                            <input type=\"radio\" name=\"q1\"> Nothing changes\n                        </label>\n                    </div>\n                </div>\n                \n                <div class=\"question\">\n                    <div class=\"question-text\">2. What is needed for current to flow?</div>\n                    <div class=\"options\">\n                        <label class=\"option\" data-question=\"2\" data-answer=\"a\">\n                            <input type=\"radio\" name=\"q2\"> Only a cell\n                        </label>\n                        <label class=\"option\" data-question=\"2\" data-answer=\"b\">\n                            <input type=\"radio\" name=\"q2\"> Only a bulb\n                        </label>\n                        <label class=\"option\" data-question=\"2\" data-answer=\"c\">\n                            <input type=\"radio\" name=\"q2\"> A complete circuit\n                        </label>\n                        <label class=\"option\" data-question=\"2\" data-answer=\"d\">\n                            <input type=\"radio\" name=\"q2\"> Just wires\n                        </label>\n                    </div>\n                </div>\n                \n                <div class=\"question\">\n                    <div class=\"question-text\">3. What happens with a burnt-out bulb?</div>\n                    <div class=\"options\">\n                        <label class=\"option\" data-question=\"3\" data-answer=\"a\">\n                            <input type=\"radio\" name=\"q3\"> The bulb glows brighter\n                        </label>\n                        <label class=\"option\" data-question=\"3\" data-answer=\"b\">\n                            <input type=\"radio\" name=\"q3\"> The bulb stays off\n                        </label>\n                        <label class=\"option\" data-question=\"3\" data-answer=\"c\">\n                            <input type=\"radio\" name=\"q3\"> The cell stops working\n                        </label>\n                        <label class=\"option\" data-question=\"3\" data-answer=\"d\">\n                            <input type=\"radio\" name=\"q3\"> Current flows faster\n                        </label>\n                    </div>\n                </div>\n                \n                <div class=\"button-group\">\n                    <button class=\"btn btn-success\" id=\"checkAnswers\">Check Answers</button>\n                    <button class=\"btn btn-secondary\" id=\"resetAnswers\">Reset</button>\n                </div>\n                \n                <div class=\"feedback\" id=\"feedback\"></div>\n            </div>\n        </div>\n    </div>\n    \n    <script>\n        // Simulation state\n        const state = {\n            circuitClosed: false,\n            cellFlipped: false,\n            numCells: 1,\n            bulbWorking: true,\n            bulbOn: false\n        };\n        \n        // DOM elements\n        const elements = {\n            switch: document.getElementById('switch'),\n            toggleSwitch: document.getElementById('toggleSwitch'),\n            flipCell: document.getElementById('flipCell'),\n            replaceBulb: document.getElementById('replaceBulb'),\n            cellSlider: document.getElementById('cellSlider'),\n            cellCount: document.getElementById('cellCount'),\n            cell: document.getElementById('cell'),\n            cell2: document.getElementById('cell2'),\n            bulbGlass: document.getElementById('bulb-glass'),\n            filamentPath: document.querySelector('.filament-path'),\n            circuitStatus: document.getElementById('circuitStatus'),\n            bulbStatus: document.getElementById('bulbStatus'),\n            polarityStatus: document.getElementById('polarityStatus'),\n            circuitText: document.getElementById('circuitText'),\n            bulbText: document.getElementById('bulbText'),\n            polarityText: document.getElementById('polarityText'),\n            charges: [\n                document.getElementById('charge1'),\n                document.getElementById('charge2'),\n                document.getElementById('charge3'),\n                document.getElementById('charge4'),\n                document.getElementById('charge5')\n            ],\n            feedback: document.getElementById('feedback'),\n            checkAnswers: document.getElementById('checkAnswers'),\n            resetAnswers: document.getElementById('resetAnswers')\n        };\n        \n        // Initialize simulation\n        function init() {\n            updateUI();\n            setupEventListeners();\n            startChargeAnimation();\n        }\n        \n        // Setup event listeners\n        function setupEventListeners() {\n            elements.toggleSwitch.addEventListener('click', toggleCircuit);\n            elements.flipCell.addEventListener('click', flipCellOrientation);\n            elements.replaceBulb.addEventListener('click', replaceBulb);\n            elements.cellSlider.addEventListener('input', updateCellCount);\n            elements.checkAnswers.addEventListener('click', checkAllAnswers);\n            elements.resetAnswers.addEventListener('click', resetAnswers);\n            \n            // Click on switch to toggle\n            elements.switch.addEventListener('click', toggleCircuit);\n            \n            // Option selection\n            document.querySelectorAll('.option').forEach(option => {\n                option.addEventListener('click', () => {\n                    const input = option.querySelector('input[type=\"radio\"]');\n                    input.checked = true;\n                });\n            });\n        }\n        \n        // Toggle circuit\n        function toggleCircuit() {\n            state.circuitClosed = !state.circuitClosed;\n            elements.switch.classList.toggle('open', !state.circuitClosed);\n            elements.switch.classList.toggle('closed', state.circuitClosed);\n            updateBulbState();\n            updateUI();\n        }\n        \n        // Flip cell orientation\n        function flipCellOrientation() {\n            state.cellFlipped = !state.cellFlipped;\n            elements.cell.classList.toggle('flipped', state.cellFlipped);\n            \n            // Animate the flip\n            elements.cell.style.transition = 'transform 0.6s ease';\n            elements.cell.style.transform = state.cellFlipped ? \n                'translate(-50%, -50%) rotate(180deg)' : \n                'translate(-50%, -50%) rotate(0deg)';\n            \n            setTimeout(() => {\n                elements.cell.style.transition = 'none';\n            }, 600);\n            \n            updateBulbState();\n            updateUI();\n        }\n        \n        // Replace bulb\n        function replaceBulb() {\n            state.bulbWorking = !state.bulbWorking;\n            updateBulbState();\n            updateUI();\n        }\n        \n        // Update cell count\n        function updateCellCount() {\n            state.numCells = parseInt(elements.cellSlider.value);\n            elements.cellCount.textContent = state.numCells;\n            \n            if (state.numCells === 2) {\n                elements.cell2.style.display = 'flex';\n            } else {\n                elements.cell2.style.display = 'none';\n            }\n            \n            updateBulbState();\n            updateUI();\n        }\n        \n        // Update bulb state based on all conditions\n        function updateBulbState() {\n            const canLight = state.circuitClosed && \n                           !state.cellFlipped && \n                           state.bulbWorking;\n            \n            state.bulbOn = canLight;\n            \n            // Update bulb appearance\n            elements.bulbGlass.classList.toggle('on', state.bulbOn && state.bulbWorking);\n            elements.bulbGlass.classList.toggle('burnt', !state.bulbWorking);\n            elements.filamentPath.classList.toggle('on', state.bulbOn && state.bulbWorking);\n            elements.filamentPath.classList.toggle('burnt', !state.bulbWorking);\n            \n            // Update charge flow\n            elements.charges.forEach(charge => {\n                charge.classList.toggle('active', state.bulbOn);\n            });\n            \n            // Update brightness based on number of cells\n            if (state.bulbOn) {\n                const brightness = state.numCells === 2 ? '1.5' : '1';\n                elements.bulbGlass.style.filter = `brightness(${brightness})`;\n            }\n        }\n        \n        // Update UI elements\n        function updateUI() {\n            // Circuit status\n            elements.circuitStatus.classList.toggle('on', state.circuitClosed);\n            elements.circuitStatus.classList.toggle('off', !state.circuitClosed);\n            elements.circuitText.textContent = state.circuitClosed ? 'Closed' : 'Open';\n            \n            // Bulb status\n            elements.bulbStatus.classList.toggle('on', state.bulbOn);\n            elements.bulbStatus.classList.toggle('off', !state.bulbOn);\n            elements.bulbText.textContent = state.bulbOn ? 'On' : 'Off';\n            \n            // Polarity status\n            elements.polarityStatus.classList.toggle('correct', !state.cellFlipped);\n            elements.polarityStatus.classList.toggle('wrong', state.cellFlipped);\n            elements.polarityText.textContent = state.cellFlipped ? 'Reversed' : 'Correct';\n        }\n        \n        // Start charge flow animation\n        function startChargeAnimation() {\n            let positions = [0, 20, 40, 60, 80];\n            let direction = 1;\n            \n            setInterval(() => {\n                if (!state.bulbOn) return;\n                \n                positions = positions.map((pos, index) => {\n                    let newPos = pos + (direction * (5 + index * 2));\n                    if (newPos > 100) newPos = 0;\n                    if (newPos < 0) newPos = 100;\n                    return newPos;\n                });\n                \n                elements.charges.forEach((charge, index) => {\n                    charge.style.left = `${200 + positions[index]}px`;\n                    charge.style.top = `${80 + (index * 10)}px`;\n                });\n                \n                direction *= -1;\n            }, 200);\n        }\n        \n        // Check answers\n        function checkAllAnswers() {\n            const answers = {\n                1: 'c', // Cell flip makes bulb stay off\n                2: 'c', // Need complete circuit\n                3: 'b'  // Burnt bulb stays off\n            };\n            \n            let score = 0;\n            let total = Object.keys(answers).length;\n            \n            document.querySelectorAll('.option').forEach(option => {\n                option.classList.remove('correct', 'wrong');\n            });\n            \n            Object.keys(answers).forEach(question => {\n                const selected = document.querySelector(`input[name=\"q${question}\"]:checked`);\n                const correctAnswer = answers[question];\n                \n                if (selected) {\n                    const selectedValue = selected.parentElement.getAttribute('data-answer');\n                    \n                    if (selectedValue === correctAnswer) {\n                        score++;\n                        document.querySelectorAll(`.option[data-question=\"${question}\"]`).forEach(opt => {\n                            if (opt.getAttribute('data-answer') === correctAnswer) {\n                                opt.classList.add('correct');\n                            }\n                        });\n                    } else {\n                        document.querySelectorAll(`.option[data-question=\"${question}\"]`).forEach(opt => {\n                            if (opt.getAttribute('data-answer') === correctAnswer) {\n                                opt.classList.add('correct');\n                            } else if (opt.getAttribute('data-answer') === selectedValue) {\n                                opt.classList.add('wrong');\n                            }\n                        });\n                    }\n                } else {\n                    document.querySelectorAll(`.option[data-question=\"${question}\"]`).forEach(opt => {\n                        if (opt.getAttribute('data-answer') === correctAnswer) {\n                            opt.classList.add('correct');\n                        }\n                    });\n                }\n            });\n            \n            const percentage = Math.round((score / total) * 100);\n            elements.feedback.innerHTML = `\n                <strong>Results:</strong> You scored ${score}/${total} (${percentage}%)\n                <br><br>\n                ${percentage === 100 ? \n                    'Excellent! You understand how electric cells work!' : \n                    'Keep practicing! Review the simulation to understand the concepts better.'}\n            `;\n            elements.feedback.className = `feedback show ${percentage === 100 ? 'correct' : 'wrong'}`;\n        }\n        \n        // Reset answers\n        function resetAnswers() {\n            document.querySelectorAll('input[type=\"radio\"]').forEach(input => {\n                input.checked = false;\n            });\n            document.querySelectorAll('.option').forEach(option => {\n                option.classList.remove('correct', 'wrong');\n            });\n            elements.feedback.className = 'feedback';\n            elements.feedback.innerHTML = '';\n        }\n        \n        // Initialize the simulation\n        init();\n    </script>\n</body>\n</html>"
}