<!DOCTYPE html>\n<html>\n<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Light Lab: Shadows & Pin-Hole Camera</title>\n    <style>\n        * { box-sizing: border-box; margin: 0; padding: 0; }\n        body { font-family: Arial, sans-serif; background: #f0f8ff; padding: 15px; }\n        .container { max-width: 100%; }\n        header { text-align: center; margin-bottom: 15px; }\n        h1 { font-size: 1.8rem; color: #2c3e50; }\n        .objective { color: #3498db; font-size: 1rem; }\n        .controls { display: flex; flex-direction: column; gap: 15px; overflow-x: auto; padding: 10px 0; }\n        .control-group { display: flex; gap: 10px; flex-shrink: 0; }\n        .slider-container { width: 100%; margin: 0 auto; }\n        .slider-label { text-align: center; margin-bottom: 5px; color: #2c3e50; }\n        input[type=\"range\"] { width: 100%; height: 45px; }\n        .buttons { display: flex; gap: 10px; }\n        .btn { padding: 16px; min-height: 44px; border: none; border-radius: 8px; background: #3498db; color: white; flex: 1; text-align: center; font-size: 1rem; cursor: pointer; }\n        .btn.active { background: #2980b9; }\n        .toggle-container { display: flex; align-items: center; justify-content: center; gap: 10px; padding: 8px 0; }\n        .toggle-label { color: #2c3e50; }\n        .toggle-switch {\n            position: relative;\n            width: 44px;\n            height: 24px;\n        }\n        .toggle-switch input { opacity: 0; width: 0; height: 0; }\n        .toggle-slider {\n            position: absolute;\n            cursor: pointer;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background-color: #ccc;\n            transition: .4s;\n            border-radius: 24px;\n        }\n        .toggle-slider:before {\n            position: absolute;\n            content: \"\";\n            height: 20px;\n            width: 20px;\n            left: 2px;\n            bottom: 2px;\n            background-color: white;\n            transition: .4s;\n            border-radius: 50%;\n        }\n        input:checked + .toggle-slider { background-color: #3498db; }\n        input:checked + .toggle-slider:before { transform: translateX(20px); }\n        canvas { width: 100%; height: 60vh; background: #ecf0f1; border-radius: 10px; margin: 15px 0; display: block; }\n        .instructions { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 10px; text-align: center; color: #2c3e50; font-size: 0.9rem; border-top: 1px solid #bdc3c7; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <header>\n            <h1>Light Lab</h1>\n            <p class=\"objective\">Discover how light creates shadows and pin-hole images!</p>\n        </header>\n        \n        <div class=\"controls\">\n            <div class=\"control-group\">\n                <div class=\"slider-container\">\n                    <div class=\"slider-label\">Light Direction: <span id=\"angleValue\">45°</span></div>\n                    <input type=\"range\" id=\"lightSlider\" min=\"0\" max=\"360\" step=\"1\" value=\"45\">\n                </div>\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"buttons\">\n                    <button class=\"btn active\" data-type=\"opaque\">Opaque</button>\n                    <button class=\"btn\" data-type=\"transparent\">Transparent</button>\n                    <button class=\"btn\" data-type=\"translucent\">Translucent</button>\n                </div>\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"buttons\">\n                    <button class=\"btn active\" data-shape=\"circle\">Circle</button>\n                    <button class=\"btn\" data-shape=\"square\">Square</button>\n                    <button class=\"btn\" data-shape=\"triangle\">Triangle</button>\n                </div>\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"toggle-container\">\n                    <span class=\"toggle-label\">Pin-Hole Camera</span>\n                    <label class=\"toggle-switch\">\n                        <input type=\"checkbox\" id=\"cameraToggle\">\n                        <span class=\"toggle-slider\"></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        \n        <canvas id=\"simulationCanvas\"></canvas>\n        \n        <div class=\"instructions\">\n            <p>Move the light slider to change shadow direction. Tap object buttons to test different materials. Switch to Camera Mode to see how pin-holes capture images!</p>\n        </div>\n    </div>\n\n    <script>\n        const canvas = document.getElementById('simulationCanvas');\n        const ctx = canvas.getContext('2d');\n        const lightSlider = document.getElementById('lightSlider');\n        const angleValue = document.getElementById('angleValue');\n        const objectButtons = document.querySelectorAll('[data-type]');\n        const shapeButtons = document.querySelectorAll('[data-shape]');\n        const cameraToggle = document.getElementById('cameraToggle');\n\n        let lightAngle = 45;\n        let objectType = 'opaque';\n        let objectShape = 'circle';\n        let isPinHoleMode = false;\n\n        function resizeCanvas() {\n            canvas.width = canvas.clientWidth;\n            canvas.height = canvas.clientHeight;\n        }\n\n        window.addEventListener('resize', resizeCanvas);\n        resizeCanvas();\n\n        lightSlider.addEventListener('input', (e) => {\n            lightAngle = parseInt(e.target.value);\n            angleValue.textContent = `${lightAngle}°`;\n            draw();\n        });\n\n        objectButtons.forEach(btn => {\n            btn.addEventListener('click', () => {\n                objectButtons.forEach(b => b.classList.remove('active'));\n                btn.classList.add('active');\n                objectType = btn.dataset.type;\n                draw();\n            });\n        });\n\n        shapeButtons.forEach(btn => {\n            btn.addEventListener('click', () => {\n                shapeButtons.forEach(b => b.classList.remove('active'));\n                btn.classList.add('active');\n                objectShape = btn.dataset.shape;\n                draw();\n            });\n        });\n\n        cameraToggle.addEventListener('change', (e) => {\n            isPinHoleMode = e.target.checked;\n            draw();\n        });\n\n        function drawLightSource() {\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 4;\n            \n            ctx.save();\n            ctx.translate(centerX, centerY);\n            ctx.rotate((lightAngle * Math.PI) / 180);\n            \n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(canvas.width / 2, 0);\n            ctx.strokeStyle = '#f1c40f';\n            ctx.lineWidth = 3;\n            ctx.stroke();\n\n            for (let i = -30; i <= 30; i += 15) {\n                ctx.beginPath();\n                ctx.moveTo(0, 0);\n                ctx.lineTo(canvas.width / 2 * Math.cos(i * Math.PI / 180), canvas.width / 2 * Math.sin(i * Math.PI / 180));\n                ctx.stroke();\n            }\n\n            ctx.beginPath();\n            ctx.arc(-15, 0, 20, 0, Math.PI * 2);\n            ctx.fillStyle = '#f1c40f';\n            ctx.fill();\n            ctx.restore();\n        }\n\n        function drawObject() {\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 2;\n            const size = 60;\n\n            ctx.save();\n            ctx.translate(centerX, centerY);\n\n            switch(objectType) {\n                case 'opaque':\n                    ctx.fillStyle = '#e74c3c';\n                    break;\n                case 'transparent':\n                    ctx.fillStyle = '#3498db';\n                    break;\n                case 'translucent':\n                    ctx.fillStyle = '#f1c40f';\n                    break;\n            }\n\n            switch(objectShape) {\n                case 'circle':\n                    ctx.beginPath();\n                    ctx.arc(0, 0, size/2, 0, Math.PI * 2);\n                    ctx.fill();\n                    break;\n                case 'square':\n                    ctx.fillRect(-size/2, -size/2, size, size);\n                    break;\n                case 'triangle':\n                    ctx.beginPath();\n                    ctx.moveTo(0, -size/2);\n                    ctx.lineTo(-size/2, size/2);\n                    ctx.lineTo(size/2, size/2);\n                    ctx.closePath();\n                    ctx.fill();\n                    break;\n            }\n\n            ctx.restore();\n        }\n\n        function drawShadow() {\n            const centerX = canvas.width / 2;\n            const centerY = canvas.height / 2;\n            const shadowSize = 120;\n\n            ctx.save();\n            ctx.translate(centerX, centerY);\n            ctx.rotate((lightAngle * Math.PI) / 180);\n\n            let opacity = 1;\n            if (objectType === 'translucent') opacity = 0.4;\n            if (objectType === 'transparent') opacity = 0.1;\n\n            ctx.fillStyle = `rgba(0, 0, 0, ${opacity})`;\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(shadowSize, 0);\n            ctx.lineTo(shadowSize, shadowSize);\n            ctx.lineTo(-shadowSize, shadowSize);\n            ctx.closePath();\n            ctx.fill();\n\n            ctx.restore();\n        }\n\n        function drawPinHoleCamera() {\n            const cameraX = canvas.width / 4;\n            const cameraY = canvas.height / 2;\n            const cameraSize = 80;\n\n            ctx.fillStyle = '#7f8c8d';\n            ctx.fillRect(cameraX - cameraSize/2, cameraY - cameraSize/2, cameraSize, cameraSize);\n\n            ctx.fillStyle = '#2c3e50';\n            ctx.beginPath();\n            ctx.arc(cameraX, cameraY, 5, 0, Math.PI * 2);\n            ctx.fill();\n\n            ctx.save();\n            ctx.translate(cameraX, cameraY);\n            ctx.scale(1, -1);\n            ctx.translate(0, -cameraSize/2 - 10);\n\n            const scale = 0.5;\n            const offsetX = -canvas.width/4;\n            const offsetY = -canvas.height/4;\n\n            ctx.save();\n            ctx.translate(offsetX, offsetY);\n            ctx.scale(scale, scale);\n            drawObject();\n            ctx.restore();\n            \n            ctx.save();\n            ctx.translate(canvas.width/2 - cameraX, canvas.height/2 - (cameraY - cameraSize/2 - 10));\n            ctx.scale(scale, scale);\n            ctx.scale(1, -1);\n            drawLightSource();\n            ctx.restore();\n\n            ctx.restore();\n        }\n\n        function draw() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            \n            drawLightSource();\n            drawObject();\n            \n            if (!isPinHoleMode) {\n                drawShadow();\n            } else {\n                drawPinHoleCamera();\n            }\n        }\n\n        draw();\n    </script>\n</body>\n</html>