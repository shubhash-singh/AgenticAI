```json
{
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Light & Shadows Fun! - Interactive Simulation</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { \n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background: #f9f9f9;\n        }\n        #app { \n            max-width: 600px; \n            margin: 0 auto; \n            padding: 16px; \n            background: white;\n            min-height: 100vh;\n            box-shadow: 0 0 10px rgba(0,0,0,0.1);\n        }\n        header {\n            padding: 16px 0;\n            text-align: center;\n            border-bottom: 2px solid #e0e0e0;\n            margin-bottom: 16px;\n        }\n        h1 { font-size: 24px; margin-bottom: 8px; color: #1A5D8A; }\n        .subtitle { font-size: 14px; color: #666; }\n        \n        #visual-area {\n            position: relative;\n            height: 50vh;\n            min-height: 300px;\n            background: #f5f5f5;\n            border-radius: 8px;\n            margin: 16px 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            overflow: hidden;\n            border: 1px solid #ddd;\n        }\n        \n        #simulationSVG {\n            width: 90%;\n            height: 90%;\n            max-width: 500px;\n            max-height: 500px;\n            transition: all 0.15s ease-out; /* Smooth transitions for elements */\n        }\n\n        #lightSource, #objectRect, #shadowPoly, #lightRaysGroup line {\n            transition: all 0.15s ease-out;\n        }\n\n        #controls {\n            padding: 16px;\n            background: #fafafa;\n            border-radius: 8px;\n            margin: 16px 0;\n            border: 1px solid #eee;\n        }\n        \n        .control-group {\n            margin-bottom: 16px;\n        }\n        \n        .control-label {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 8px;\n            font-weight: 500;\n            font-size: 16px;\n        }\n        \n        input[type=\"range\"] {\n            width: 100%;\n            height: 44px;\n            cursor: pointer;\n            -webkit-appearance: none;\n            appearance: none;\n            background: #e0e0e0;\n            outline: none;\n            border-radius: 5px;\n        }\n\n        input[type=\"range\"]::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            background: #1A5D8A;\n            cursor: grab;\n            border: 2px solid #fff;\n        }\n\n        input[type=\"range\"]::-moz-range-thumb {\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            background: #1A5D8A;\n            cursor: grab;\n            border: 2px solid #fff;\n        }\n        \n        .button-group {\n            display: flex;\n            gap: 8px;\n            flex-wrap: wrap;\n            margin-top: 8px;\n        }\n\n        .button-group button {\n            flex: 1 1 auto;\n            min-width: 120px;\n            min-height: 48px;\n            padding: 12px 16px;\n            font-size: 16px;\n            background: #E0E0E0;\n            color: #333;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            transition: background-color 0.2s, transform 0.1s;\n        }\n        \n        .button-group button.active {\n            background: #4CAF50;\n            color: white;\n            font-weight: bold;\n        }\n        \n        .button-group button:hover:not(.active) {\n            background: #ccc;\n        }\n        \n        .button-group button:active {\n            transform: scale(0.98);\n        }\n        \n        #info {\n            padding: 16px;\n            background: #e3f2fd; /* Light blue */\n            border-radius: 8px;\n            margin-bottom: 16px;\n            border: 1px solid #bbdefb;\n            font-size: 16px;\n        }\n\n        .info-text {\n            font-size: 16px;\n            color: #1A5D8A;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"app\">\n        <header>\n            <h1>Light & Shadows Fun!</h1>\n            <p class=\"subtitle\">See how shadows form as light interacts with objects.</p>\n            <p class=\"subtitle\" style=\"margin-top: 8px;\">Drag sliders and tap buttons to explore light and shadows.</p>\n        </header>\n        \n        <div id=\"visual-area\">\n            <svg id=\"simulationSVG\" viewBox=\"0 0 1000 500\">\n                <defs>\n                    <filter id=\"blurFilter\">\n                        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"3\" />\n                    </filter>\n                </defs>\n                <!-- Screen -->\n                <rect id=\"screenRect\" x=\"800\" y=\"0\" width=\"20\" height=\"500\" fill=\"#E0E0E0\" opacity=\"0.8\" />\n                \n                <!-- Shadow (will be updated by JS) -->\n                <polygon id=\"shadowPoly\" points=\"\" fill=\"#212121\" opacity=\"1\" />\n\n                <!-- Light Rays Group -->\n                <g id=\"lightRaysGroup\" stroke=\"#FFC107\" stroke-width=\"2\">\n                    <line id=\"ray1\" x1=\"100\" y1=\"250\" x2=\"1000\" y2=\"150\" opacity=\"1\" />\n                    <line id=\"ray2\" x1=\"100\" y1=\"250\" x2=\"1000\" y2=\"200\" opacity=\"1\" />\n                    <line id=\"ray3\" x1=\"100\" y1=\"250\" x2=\"1000\" y2=\"250\" opacity=\"1\" />\n                    <line id=\"ray4\" x1=\"100\" y1=\"250\" x2=\"1000\" y2=\"300\" opacity=\"1\" />\n                    <line id=\"ray5\" x1=\"100\" y1=\"250\" x2=\"1000\" y2=\"350\" opacity=\"1\" />\n                </g>\n\n                <!-- Object (default opaque) -->\n                <rect id=\"objectRect\" x=\"400\" y=\"200\" width=\"60\" height=\"100\" fill=\"#212121\" />\n\n                <!-- Light Source -->\n                <circle id=\"lightSource\" cx=\"100\" cy=\"250\" r=\"30\" fill=\"#FFC107\" />\n            </svg>\n        </div>\n        \n        <div id=\"controls\">\n            <div class=\"control-group\">\n                <div class=\"control-label\">Object Type</div>\n                <div class=\"button-group\">\n                    <button id=\"opaqueBtn\" data-type=\"Opaque\">Opaque</button>\n                    <button id=\"translucentBtn\" data-type=\"Translucent\">Translucent</button>\n                    <button id=\"transparentBtn\" data-type=\"Transparent\">Transparent</button>\n                </div>\n            </div>\n\n            <div class=\"control-group\">\n                <div class=\"control-label\">Object Position <span id=\"objectPosValue\">50%</span></div>\n                <input type=\"range\" id=\"objectPositionSlider\" min=\"0\" max=\"100\" value=\"50\">\n            </div>\n\n            <div class=\"control-group\">\n                <div class=\"control-label\">Light Source Height <span id=\"lightHeightValue\">50%</span></div>\n                <input type=\"range\" id=\"lightSourceHeightSlider\" min=\"0\" max=\"100\" value=\"50\">\n            </div>\n        </div>\n        \n        <div id=\"info\">\n            <p class=\"info-text\" id=\"infoText\">Welcome! Use the controls to start exploring light and shadows.</p>\n        </div>\n    </div>\n    \n    <script>\n        // DOM Elements\n        const lightSourceEl = document.getElementById('lightSource');\n        const objectRectEl = document.getElementById('objectRect');\n        const shadowPolyEl = document.getElementById('shadowPoly');\n        const lightRaysGroup = document.getElementById('lightRaysGroup');\n        const infoTextEl = document.getElementById('infoText');\n\n        const objectTypeButtons = document.querySelectorAll('.button-group button');\n        const objectPositionSlider = document.getElementById('objectPositionSlider');\n        const lightSourceHeightSlider = document.getElementById('lightSourceHeightSlider');\n        const objectPosValueSpan = document.getElementById('objectPosValue');\n        const lightHeightValueSpan = document.getElementById('lightHeightValue');\n\n        // Simulation State Variables\n        let currentObjectType = \"Opaque\";\n        let currentObjectPositionPercent = 50;\n        let currentLightSourceHeightPercent = 50;\n\n        // Fixed SVG coordinates for calculation\n        const SVG_WIDTH = 1000;\n        const SVG_HEIGHT = 500;\n        const LIGHT_SOURCE_X_FIXED = 100; // Center X of light source\n        const LIGHT_SOURCE_RADIUS = 30;\n        const OBJECT_WIDTH = 60;\n        const OBJECT_HEIGHT = 100;\n        const OBJECT_Y_FIXED = (SVG_HEIGHT - OBJECT_HEIGHT) / 2; // Vertically centered\n        const OBJECT_X_MIN = 200; // Leftmost position for object\n        const OBJECT_X_MAX = 600; // Rightmost position for object\n        const SCREEN_X_FIXED = 800; // Left edge of the screen\n        const SCREEN_WIDTH = 20;\n\n        // Helper to update ray visibility and opacity based on object type and position\n        function updateRays(lightX, lightY, objX, objY, objH, type) {\n            const rayElements = lightRaysGroup.querySelectorAll('line');\n            // Define points on the object's left edge for rays to \"interact\" with or pass by\n            // These are relative Y positions from the object's top edge (objY)\n            const rayTargetsRelativeY = [\n                -40, // Clearly above object\n                10,  // Slightly inside top of object\n                objH / 2, // Middle of object\n                objH - 10, // Slightly inside bottom of object\n                objH + 40  // Clearly below object\n            ];\n\n            rayElements.forEach((ray, index) => {\n                const targetY = objY + rayTargetsRelativeY[index];\n                \n                // Calculate slope for the ray originating from light source to this target Y at objectX\n                const m = (targetY - lightY) / (objX - lightX);\n                \n                // Calculate end point (x2, y2) if ray travels unobstructed to the right edge of SVG\n                const x2_unobstructed = SVG_WIDTH;\n                const y2_unobstructed = lightY + m * (SVG_WIDTH - lightX);\n\n                ray.setAttribute('x1', lightX);\n                ray.setAttribute('y1', lightY);\n                ray.setAttribute('x2', x2_unobstructed);\n                ray.setAttribute('y2', y2_unobstructed);\n                ray.style.stroke = '#FFC107';\n                ray.style.strokeWidth = '2';\n\n                // Check if the ray's vertical path intersects with the object's vertical span at the object's X position\n                // Simplification: checking if targetY is within object's vertical bounds\n                const isRayIntersectingObject = (targetY >= objY && targetY <= objY + objH);\n\n                switch (type) {\n                    case \"Opaque\":\n                        if (isRayIntersectingObject) {\n                            ray.style.opacity = '0'; // Blocked, so invisible\n                        } else {\n                            ray.style.opacity = '1'; // Passes around\n                        }\n                        break;\n                    case \"Translucent\":\n                        if (isRayIntersectingObject) {\n                            ray.style.opacity = '0.3'; // Faintly passes through\n                        } else {\n                            ray.style.opacity = '1'; // Passes around\n                        }\n                        break;\n                    case \"Transparent\":\n                        ray.style.opacity = '1'; // All pass unobstructed\n                        break;\n                }\n            });\n        }\n\n        // Updates the info text based on current state\n        function updateInfoText() {\n            let description = '';\n            switch (currentObjectType) {\n                case \"Opaque\":\n                    description = \"The object is Opaque. It blocks all light, creating a sharp, dark shadow.\";\n                    break;\n                case \"Translucent\":\n                    description = \"The object is Translucent. Some light passes through, forming a fuzzy, lighter shadow.\";\n                    break;\n                case \"Transparent\":\n                    description = \"The object is Transparent. All light passes through unobstructed, so no shadow is formed.\";\n                    break;\n            }\n            infoTextEl.textContent = `Current: ${currentObjectType}. ${description}`;\n        }\n\n        // Main simulation update function\n        let animationFrameId = null;\n        function updateSimulation() {\n            if (animationFrameId) {\n                cancelAnimationFrame(animationFrameId);\n            }\n            animationFrameId = requestAnimationFrame(() => {\n                try {\n                    // 1. Calculate positions based on current slider values\n                    const lightSourceY = (LIGHT_SOURCE_Y_MIN + (LIGHT_SOURCE_Y_MAX - LIGHT_SOURCE_Y_MIN) * currentLightSourceHeightPercent / 100); // maps 0-100% to 100-400\n                    const objectX = (OBJECT_X_MIN + (OBJECT_X_MAX - OBJECT_X_MIN) * currentObjectPositionPercent / 100); // maps 0-100% to 200-600\n                    const objectY = OBJECT_Y_FIXED; // Fixed vertical center\n                    const lightX = LIGHT_SOURCE_X_FIXED; // Fixed horizontal light source position\n                    const screenX = SCREEN_X_FIXED; // Fixed screen X position\n\n                    // Update light source position\n                    lightSourceEl.setAttribute('cy', lightSourceY);\n\n                    // Update object position\n                    objectRectEl.setAttribute('x', objectX);\n\n                    // 2. Calculate shadow points\n                    let shadowPoints = \"\";\n                    let shadowFill = 'none';\n                    let shadowOpacity = '0';\n                    let shadowFilter = 'none';\n\n                    if (currentObjectType !== \"Transparent\") {\n                        // Top-most ray for shadow (from light source center through object's top-left corner)\n                        const m_top = (objectY - lightSourceY) / (objectX - lightX);\n                        const shadowY_top = lightSourceY + m_top * (screenX - lightX);\n\n                        // Bottom-most ray for shadow (from light source center through object's bottom-left corner)\n                        const m_bottom = (objectY + OBJECT_HEIGHT - lightSourceY) / (objectX - lightX);\n                        const shadowY_bottom = lightSourceY + m_bottom * (screenX - lightX);\n\n                        // Define the shadow polygon on the screen\n                        shadowPoints = `${screenX},${shadowY_top} ${screenX + SCREEN_WIDTH},${shadowY_top} ${screenX + SCREEN_WIDTH},${shadowY_bottom} ${screenX},${shadowY_bottom}`;\n                        shadowFill = '#212121'; // Shadow color\n\n                        if (currentObjectType === \"Opaque\") {\n                            shadowOpacity = '1';\n                            shadowFilter = 'none';\n                        } else if (currentObjectType === \"Translucent\") {\n                            shadowOpacity = '0.4'; // Lighter shadow\n                            shadowFilter = 'url(#blurFilter)'; // Fuzzy shadow\n                        }\n                    }\n\n                    shadowPolyEl.setAttribute('points', shadowPoints);\n                    shadowPolyEl.setAttribute('fill', shadowFill);\n                    shadowPolyEl.setAttribute('opacity', shadowOpacity);\n                    shadowPolyEl.style.filter = shadowFilter;\n\n                    // Update object's visual properties\n                    switch (currentObjectType) {\n                        case \"Opaque\":\n                            objectRectEl.setAttribute('fill', '#212121');\n                            objectRectEl.setAttribute('opacity', '1');\n                            objectRectEl.setAttribute('stroke', 'none');\n                            break;\n                        case \"Translucent\":\n                            objectRectEl.setAttribute('fill', 'rgba(33, 33, 33, 0.5)'); // Semi-transparent grey\n                            objectRectEl.setAttribute('opacity', '1');\n                            objectRectEl.setAttribute('stroke', 'none');\n                            break;\n                        case \"Transparent\":\n                            objectRectEl.setAttribute('fill', 'none');\n                            objectRectEl.setAttribute('opacity', '1');\n                            objectRectEl.setAttribute('stroke', '#E0E0E0'); // Clear outline\n                            objectRectEl.setAttribute('stroke-width', '2');\n                            break;\n                    }\n\n                    // Update light rays interaction\n                    updateRays(lightX, lightSourceY, objectX, objectY, OBJECT_HEIGHT, currentObjectType);\n\n                    // Update info text\n                    updateInfoText();\n\n                } catch (error) {\n                    console.error(\"Error updating simulation:\", error);\n                }\n                animationFrameId = null;\n            });\n        }\n\n        // Initialize default light source height range (for 0-100% slider mapping)\n        const LIGHT_SOURCE_Y_MIN = 100; // SVG Y coordinate\n        const LIGHT_SOURCE_Y_MAX = 400; // SVG Y coordinate\n\n        // Event Listeners\n\n        // Object Type Buttons\n        objectTypeButtons.forEach(button => {\n            button.addEventListener('click', (e) => {\n                currentObjectType = e.target.dataset.type;\n                objectTypeButtons.forEach(btn => btn.classList.remove('active'));\n                e.target.classList.add('active');\n                updateSimulation();\n            });\n        });\n\n        // Object Position Slider\n        objectPositionSlider.addEventListener('input', (e) => {\n            currentObjectPositionPercent = parseInt(e.target.value);\n            objectPosValueSpan.textContent = `${currentObjectPositionPercent}%`;\n            updateSimulation();\n        });\n\n        // Light Source Height Slider\n        lightSourceHeightSlider.addEventListener('input', (e) => {\n            currentLightSourceHeightPercent = parseInt(e.target.value);\n            lightHeightValueSpan.textContent = `${currentLightSourceHeightPercent}%`;\n            updateSimulation();\n        });\n\n        // Initial setup\n        function initializeSimulation() {\n            // Set initial button active state\n            document.getElementById('opaqueBtn').classList.add('active');\n            // Set slider values and display\n            objectPositionSlider.value = currentObjectPositionPercent;\n            objectPosValueSpan.textContent = `${currentObjectPositionPercent}%`;\n            lightSourceHeightSlider.value = currentLightSourceHeightPercent;\n            lightHeightValueSpan.textContent = `${currentLightSourceHeightPercent}%`;\n            // Perform initial simulation update\n            updateSimulation();\n        }\n\n        initializeSimulation();\n\n    </script>\n</body>\n</html>"
}
```