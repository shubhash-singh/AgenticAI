{
  "fixed": true,
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Light Exploration Lab</title>\n    <style>\n        :root {\n            --bg: #f8f9fa;\n            --panel: #ffffff;\n            --text: #2c3e50;\n            --accent: #3498db;\n            --accent2: #e74c3c;\n            --border: #e0e0e0;\n        }\n        \n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: var(--bg);\n            color: var(--text);\n            line-height: 1.4;\n        }\n        \n        .container {\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 16px;\n        }\n        \n        .header {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 16px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            margin-bottom: 16px;\n        }\n        \n        h1 {\n            font-size: 20px;\n            margin-bottom: 8px;\n            color: var(--accent);\n        }\n        \n        .instructions {\n            font-size: 14px;\n            color: #555;\n            margin-bottom: 8px;\n        }\n        \n        .simulation-area {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 16px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            margin-bottom: 16px;\n        }\n        \n        .canvas-container {\n            position: relative;\n            width: 100%;\n            height: 320px;\n            background: linear-gradient(180deg, #e8f4ff 0%, #ffffff 100%);\n            border: 2px solid var(--border);\n            border-radius: 8px;\n            overflow: hidden;\n        }\n        \n        .light-source {\n            position: absolute;\n            width: 40px;\n            height: 40px;\n            background: radial-gradient(circle, #fffde7 0%, #ffd54f 60%, #ffb300 100%);\n            border-radius: 50%;\n            box-shadow: 0 0 20px rgba(255, 193, 7, 0.6);\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 3;\n        }\n        \n        .light-source::after {\n            content: '';\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 8px;\n            height: 8px;\n            background: #fff;\n            border-radius: 50%;\n            transform: translate(-50%, -50%);\n            box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);\n        }\n        \n        .object {\n            position: absolute;\n            top: 120px;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 2;\n            background: #34495e;\n            border-radius: 8px;\n        }\n        \n        .object.circle {\n            width: 80px;\n            height: 80px;\n            border-radius: 50%;\n        }\n        \n        .object.square {\n            width: 80px;\n            height: 80px;\n            border-radius: 8px;\n        }\n        \n        .object.hand {\n            width: 100px;\n            height: 120px;\n            background: linear-gradient(180deg, #8d6e63 0%, #6d4c41 100%);\n            border-radius: 12px 12px 8px 8px;\n        }\n        \n        .object.hand::before {\n            content: '';\n            position: absolute;\n            top: -20px;\n            left: 20px;\n            width: 20px;\n            height: 30px;\n            background: linear-gradient(180deg, #8d6e63 0%, #6d4c41 100%);\n            border-radius: 4px;\n            transform: rotate(-5deg);\n        }\n        \n        .object.hand::after {\n            content: '';\n            position: absolute;\n            top: -15px;\n            right: 20px;\n            width: 20px;\n            height: 25px;\n            background: linear-gradient(180deg, #8d6e63 0%, #6d4c41 100%);\n            border-radius: 4px;\n            transform: rotate(5deg);\n        }\n        \n        .screen {\n            position: absolute;\n            width: 2px;\n            height: 280px;\n            background: #2c3e50;\n            top: 20px;\n            right: 40px;\n            z-index: 1;\n        }\n        \n        .screen-label {\n            position: absolute;\n            right: 10px;\n            top: 140px;\n            transform: rotate(90deg);\n            transform-origin: right top;\n            font-size: 12px;\n            color: #666;\n            background: rgba(255, 255, 255, 0.8);\n            padding: 4px 8px;\n            border-radius: 4px;\n        }\n        \n        .mirror {\n            position: absolute;\n            width: 2px;\n            height: 280px;\n            background: linear-gradient(180deg, #e3f2fd 0%, #90caf9 50%, #42a5f5 100%);\n            top: 20px;\n            right: 40px;\n            z-index: 1;\n            display: none;\n        }\n        \n        .mirror::after {\n            content: 'Mirror';\n            position: absolute;\n            right: 10px;\n            top: 140px;\n            transform: rotate(90deg);\n            transform-origin: right top;\n            font-size: 12px;\n            color: #1565c0;\n            font-weight: bold;\n            background: rgba(255, 255, 255, 0.9);\n            padding: 4px 8px;\n            border-radius: 4px;\n        }\n        \n        .virtual-image {\n            position: absolute;\n            top: 120px;\n            right: 60px;\n            transform: scaleX(-1);\n            opacity: 0.7;\n            filter: brightness(0.9);\n            z-index: 1;\n            display: none;\n        }\n        \n        .virtual-image .object {\n            transform: none;\n        }\n        \n        .prism {\n            position: absolute;\n            width: 0;\n            height: 0;\n            border-left: 60px solid transparent;\n            border-right: 60px solid transparent;\n            border-bottom: 104px solid #e8f1ff;\n            top: 100px;\n            left: 50%;\n            transform-origin: 50% 50%;\n            z-index: 2;\n            display: none;\n        }\n        \n        .prism::after {\n            content: '';\n            position: absolute;\n            top: -104px;\n            left: -60px;\n            width: 0;\n            height: 0;\n            border-left: 60px solid transparent;\n            border-right: 60px solid transparent;\n            border-top: 104px solid rgba(255, 255, 255, 0.1);\n        }\n        \n        .rainbow {\n            position: absolute;\n            top: 120px;\n            right: 120px;\n            height: 4px;\n            width: 120px;\n            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);\n            border-radius: 4px;\n            transform-origin: left center;\n            display: none;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n        }\n        \n        .light-rays {\n            position: absolute;\n            top: 40px;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 1;\n        }\n        \n        .ray {\n            position: absolute;\n            height: 2px;\n            background: rgba(255, 193, 7, 0.8);\n            transform-origin: 0 0;\n            box-shadow: 0 0 8px rgba(255, 193, 7, 0.6);\n        }\n        \n        .controls {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 16px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        }\n        \n        .control-group {\n            margin-bottom: 16px;\n            padding-bottom: 12px;\n            border-bottom: 1px solid var(--border);\n        }\n        \n        .control-group:last-child {\n            border-bottom: none;\n            margin-bottom: 0;\n            padding-bottom: 0;\n        }\n        \n        label {\n            display: block;\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 8px;\n            color: #333;\n        }\n        \n        input[type=\"range\"] {\n            width: 100%;\n            height: 32px;\n            -webkit-appearance: none;\n            appearance: none;\n            background: transparent;\n        }\n        \n        input[type=\"range\"]::-webkit-slider-runnable-track {\n            width: 100%;\n            height: 6px;\n            background: #ddd;\n            border-radius: 4px;\n        }\n        \n        input[type=\"range\"]::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 24px;\n            height: 24px;\n            background: var(--accent);\n            border-radius: 50%;\n            margin-top: -9px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n        }\n        \n        input[type=\"range\"]::-moz-range-track {\n            width: 100%;\n            height: 6px;\n            background: #ddd;\n            border-radius: 4px;\n        }\n        \n        input[type=\"range\"]::-moz-range-thumb {\n            width: 24px;\n            height: 24px;\n            background: var(--accent);\n            border-radius: 50%;\n            border: none;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n        }\n        \n        select, button {\n            width: 100%;\n            padding: 12px;\n            font-size: 16px;\n            border: 2px solid var(--border);\n            border-radius: 8px;\n            background: white;\n            color: var(--text);\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        \n        select:focus, button:focus {\n            outline: none;\n            border-color: var(--accent);\n            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);\n        }\n        \n        button {\n            background: var(--accent);\n            color: white;\n            font-weight: 600;\n            border: none;\n            min-height: 44px;\n        }\n        \n        button.secondary {\n            background: #95a5a6;\n        }\n        \n        button.danger {\n            background: var(--accent2);\n        }\n        \n        button:active {\n            transform: scale(0.98);\n        }\n        \n        .button-row {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n        }\n        \n        .misconceptions {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 16px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n            margin-bottom: 16px;\n        }\n        \n        .misconception {\n            background: #fff8e1;\n            border-left: 4px solid #ffc107;\n            padding: 12px;\n            margin-bottom: 12px;\n            border-radius: 4px;\n        }\n        \n        .misconception h3 {\n            font-size: 14px;\n            margin-bottom: 6px;\n            color: #e65100;\n        }\n        \n        .misconception p {\n            font-size: 13px;\n            color: #5d4037;\n        }\n        \n        @media (max-width: 480px) {\n            .canvas-container {\n                height: 280px;\n            }\n            \n            .object, .shadow {\n                transform: translateX(-50%) scale(0.8);\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>Light Exploration Lab</h1>\n            <div class=\"instructions\">Welcome! In this activity, you will learn about light by playing with a light source, objects, and screens. Use the sliders to move the light and change the object. See how the shadow changes. Switch to mirror mode to see how mirrors reflect light. Try the prism to see colors appear. Have fun exploring!</div>\n        </div>\n        \n        <div class=\"misconceptions\">\n            <div class=\"misconception\">\n                <h3>Misconception: Light bends around objects</h3>\n                <p>Watch the straight light rays and sharp shadows. Light travels in straight lines!</p>\n            </div>\n            <div class=\"misconception\">\n                <h3>Misconception: Shadows are the same size and shape as the object</h3>\n                <p>Move the light source to see how shadows change size and shape.</p>\n            </div>\n            <div class=\"misconception\">\n                <h3>Misconception: Mirror images are real and exist behind the mirror</h3>\n                <p>The virtual image appears behind the mirror but isn't really there!</p>\n            </div>\n            <div class=\"misconception\">\n                <h3>Misconception: White light is a single color</h3>\n                <p>Rotate the prism to see white light split into many colors.</p>\n            </div>\n        </div>\n        \n        <div class=\"simulation-area\">\n            <div class=\"canvas-container\" id=\"canvas\">\n                <div class=\"light-source\" id=\"lightSource\"></div>\n                <div class=\"object circle\" id=\"object\"></div>\n                <div class=\"shadow circle\" id=\"shadow\"></div>\n                <div class=\"screen\" id=\"screen\"></div>\n                <div class=\"screen-label\">Screen</div>\n                <div class=\"mirror\" id=\"mirror\"></div>\n                <div class=\"virtual-image circle\" id=\"virtualImage\">\n                    <div class=\"object circle\"></div>\n                </div>\n                <div class=\"prism\" id=\"prism\"></div>\n                <div class=\"rainbow\" id=\"rainbow\"></div>\n                <div class=\"light-rays\" id=\"lightRays\"></div>\n            </div>\n        </div>\n        \n        <div class=\"controls\">\n            <div class=\"control-group\">\n                <label for=\"lightAngle\">Light Source Angle</label>\n                <input type=\"range\" id=\"lightAngle\" min=\"-60\" max=\"60\" value=\"0\">\n            </div>\n            \n            <div class=\"control-group\">\n                <label for=\"lightDistance\">Light Source Distance</label>\n                <input type=\"range\" id=\"lightDistance\" min=\"60\" max=\"200\" value=\"120\">\n            </div>\n            \n            <div class=\"control-group\">\n                <label for=\"objectShape\">Object Shape</label>\n                <select id=\"objectShape\">\n                    <option value=\"circle\">Circle</option>\n                    <option value=\"square\">Square</option>\n                    <option value=\"hand\">Hand</option>\n                </select>\n            </div>\n            \n            <div class=\"control-group\">\n                <label for=\"objectSize\">Object Size</label>\n                <input type=\"range\" id=\"objectSize\" min=\"60\" max=\"140\" value=\"80\">\n            </div>\n            \n            <div class=\"control-group\">\n                <label for=\"screenDistance\">Screen Distance from Object</label>\n                <input type=\"range\" id=\"screenDistance\" min=\"80\" max=\"200\" value=\"120\">\n            </div>\n            \n            <div class=\"control-group\">\n                <label for=\"prismAngle\">Prism Angle (for color splitting)</label>\n                <input type=\"range\" id=\"prismAngle\" min=\"0\" max=\"60\" value=\"0\">\n            </div>\n            \n            <div class=\"control-group\">\n                <label>Mode</label>\n                <div class=\"button-row\">\n                    <button id=\"shadowModeBtn\" class=\"secondary\">Shadow Mode</button>\n                    <button id=\"mirrorModeBtn\">Mirror Mode</button>\n                </div>\n            </div>\n            \n            <div class=\"control-group\">\n                <button id=\"resetBtn\" class=\"danger\">Reset Simulation</button>\n            </div>\n        </div>\n    </div>\n    \n    <script>\n        // Elements\n        const lightSource = document.getElementById('lightSource');\n        const object = document.getElementById('object');\n        const shadow = document.getElementById('shadow');\n        const screen = document.getElementById('screen');\n        const mirror = document.getElementById('mirror');\n        const virtualImage = document.getElementById('virtualImage');\n        const prism = document.getElementById('prism');\n        const rainbow = document.getElementById('rainbow');\n        const lightRays = document.getElementById('lightRays');\n        const canvas = document.getElementById('canvas');\n        \n        // Controls\n        const lightAngleSlider = document.getElementById('lightAngle');\n        const lightDistanceSlider = document.getElementById('lightDistance');\n        const objectShapeSelect = document.getElementById('objectShape');\n        const objectSizeSlider = document.getElementById('objectSize');\n        const screenDistanceSlider = document.getElementById('screenDistance');\n        const prismAngleSlider = document.getElementById('prismAngle');\n        const shadowModeBtn = document.getElementById('shadowModeBtn');\n        const mirrorModeBtn = document.getElementById('mirrorModeBtn');\n        const resetBtn = document.getElementById('resetBtn');\n        \n        // State\n        let currentMode = 'shadow';\n        let rayElements = [];\n        \n        // Initialize\n        function init() {\n            createLightRays();\n            updateSimulation();\n        }\n        \n        function createLightRays() {\n            // Create multiple light rays\n            lightRays.innerHTML = '';\n            rayElements = [];\n            for (let i = 0; i < 15; i++) {\n                const ray = document.createElement('div');\n                ray.className = 'ray';\n                ray.style.width = '120px';\n                ray.style.left = (i * 8 - 56) + 'px';\n                ray.style.top = '20px';\n                ray.style.transform = 'rotate(0deg)';\n                lightRays.appendChild(ray);\n                rayElements.push(ray);\n            }\n        }\n        \n        function updateSimulation() {\n            const lightAngle = parseInt(lightAngleSlider.value);\n            const lightDistance = parseInt(lightDistanceSlider.value);\n            const objectSize = parseInt(objectSizeSlider.value);\n            const screenDistance = parseInt(screenDistanceSlider.value);\n            const prismAngle = parseInt(prismAngleSlider.value);\n            const objectShape = objectShapeSelect.value;\n            \n            // Update light source position\n            lightSource.style.top = (20 + lightDistance) + 'px';\n            lightSource.style.transform = `translateX(-50%) rotate(${lightAngle}deg)`;\n            \n            // Update object\n            object.className = `object ${objectShape}`;\n            if (objectShape === 'circle' || objectShape === 'square') {\n                object.style.width = objectSize + 'px';\n                object.style.height = objectSize + 'px';\n            } else if (objectShape === 'hand') {\n                object.style.width = (objectSize + 20) + 'px';\n                object.style.height = (objectSize + 40) + 'px';\n            }\n            \n            // Update shadow\n            shadow.className = `shadow ${objectShape}`;\n            if (objectShape === 'circle' || objectShape === 'square') {\n                shadow.style.width = objectSize + 'px';\n                shadow.style.height = Math.max(20, Math.floor(objectSize * 0.5)) + 'px';\n            } else if (objectShape === 'hand') {\n                shadow.style.width = (objectSize + 20) + 'px';\n                shadow.style.height = Math.max(25, Math.floor((objectSize + 40) * 0.4)) + 'px';\n            }\n            \n            // Update screen position\n            screen.style.right = (40 + screenDistance) + 'px';\n            \n            // Update virtual image position\n            virtualImage.style.right = (60 + screenDistance) + 'px';\n            \n            // Update mirror and virtual image visibility\n            if (currentMode === 'mirror') {\n                screen.style.display = 'none';\n                mirror.style.display = 'block';\n                virtualImage.style.display = 'block';\n                virtualImage.className = `virtual-image ${objectShape}`;\n            } else {\n                screen.style.display = 'block';\n                mirror.style.display = 'none';\n                virtualImage.style.display = 'none';\n            }\n            \n            // Update prism and rainbow\n            if (prismAngle > 0) {\n                prism.style.display = 'block';\n                prism.style.transform = `translateX(-50%) rotate(${prismAngle}deg)`;\n                rainbow.style.display = 'block';\n                rainbow.style.transform = `translateX(${40 + screenDistance}px) rotate(${-prismAngle}deg)`;\n            } else {\n                prism.style.display = 'none';\n                rainbow.style.display = 'none';\n            }\n            \n            // Update light rays\n            updateLightRays(lightAngle, lightDistance);\n            \n            // Update shadow position based on light angle\n            updateShadowPosition(lightAngle, lightDistance, screenDistance);\n        }\n        \n        function updateLightRays(angle, distance) {\n            rayElements.forEach((ray, index) => {\n                const rayAngle = angle + (index - 7) * 2;\n                ray.style.transform = `rotate(${rayAngle}deg)`;\n                \n                // Change ray length based on angle\n                const baseLength = 120;\n                const angleFactor = Math.cos(rayAngle * Math.PI / 180);\n                ray.style.width = (baseLength * Math.abs(angleFactor)) + 'px';\n                \n                // Make rays more visible when pointing downward\n                ray.style.opacity = angle >= 0 ? 0.8 : 0.4;\n            });\n        }\n        \n        function updateShadowPosition(lightAngle, lightDistance, screenDistance) {\n            // Calculate shadow offset based on light angle and distances\n            const objectCenterY = 160; // Object center Y position\n            const lightY = 20 + lightDistance;\n            \n            // Shadow moves opposite to light direction\n            const shadowOffset = Math.tan(lightAngle * Math.PI / 180) * screenDistance * 0.5;\n            \n            shadow.style.transform = `translateX(${Math.round(-shadowOffset)}px)`;\n            \n            // Shadow size changes with light position\n            const shadowSizeFactor = 1 + (Math.abs(lightAngle) / 60) * 0.5;\n            \n            if (shadow.classList.contains('circle') || shadow.classList.contains('square')) {\n                const originalWidth = parseInt(shadow.style.width);\n                const originalHeight = parseInt(shadow.style.height);\n                shadow.style.width = Math.round(originalWidth * shadowSizeFactor) + 'px';\n                shadow.style.height = Math.round(originalHeight * shadowSizeFactor) + 'px';\n            } else if (shadow.classList.contains('hand')) {\n                const originalWidth = parseInt(shadow.style.width);\n                const originalHeight = parseInt(shadow.style.height);\n                shadow.style.width = Math.round(originalWidth * shadowSizeFactor) + 'px';\n                shadow.style.height = Math.round(originalHeight * shadowSizeFactor) + 'px';\n            }\n        }\n        \n        // Event listeners\n        lightAngleSlider.addEventListener('input', updateSimulation);\n        lightDistanceSlider.addEventListener('input', updateSimulation);\n        objectShapeSelect.addEventListener('change', updateSimulation);\n        objectSizeSlider.addEventListener('input', updateSimulation);\n        screenDistanceSlider.addEventListener('input', updateSimulation);\n        prismAngleSlider.addEventListener('input', updateSimulation);\n        \n        shadowModeBtn.addEventListener('click', () => {\n            currentMode = 'shadow';\n            shadowModeBtn.classList.add('secondary');\n            mirrorModeBtn.classList.remove('secondary');\n            updateSimulation();\n        });\n        \n        mirrorModeBtn.addEventListener('click', () => {\n            currentMode = 'mirror';\n            shadowModeBtn.classList.remove('secondary');\n            mirrorModeBtn.classList.add('secondary');\n            updateSimulation();\n        });\n        \n        resetBtn.addEventListener('click', () => {\n            lightAngleSlider.value = '0';\n            lightDistanceSlider.value = '120';\n            objectShapeSelect.value = 'circle';\n            objectSizeSlider.value = '80';\n            screenDistanceSlider.value = '120';\n            prismAngleSlider.value = '0';\n            currentMode = 'shadow';\n            shadowModeBtn.classList.add('secondary');\n            mirrorModeBtn.classList.remove('secondary');\n            updateSimulation();\n        });\n        \n        // Initialize simulation\n        init();\n        \n        // Add touch feedback for buttons\n        document.querySelectorAll('button').forEach(btn => {\n            btn.addEventListener('touchstart', function(e) {\n                this.style.transform = 'scale(0.98)';\n                setTimeout(() => {\n                    this.style.transform = '';\n                }, 150);\n            });\n        });\n    </script>\n</body>\n</html>",
  "explanations": [
    "Fixed missing viewport meta tag to ensure proper mobile responsiveness",
    "Fixed virtual image CSS by adding transform: none to inner object to prevent double transformation",
    "Added min-height: 44px to buttons to meet touch target accessibility requirements",
    "Fixed JavaScript by adding missing closing braces and semicolons",
    "Fixed CSS syntax errors with missing closing braces",
    "Ensured all HTML elements are properly nested and closed",
    "Maintained 7th-grade reading level throughout content"
  ]
}