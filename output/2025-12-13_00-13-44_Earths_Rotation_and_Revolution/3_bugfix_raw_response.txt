{
  "fixed": true,
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Earth's Rotation and Orbit - Interactive Simulation</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { \n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background: #f9f9f9;\n        }\n        #app { \n            max-width: 600px; \n            margin: 0 auto; \n            padding: 16px; \n            background: white;\n            min-height: 100vh;\n        }\n        header {\n            padding: 16px 0;\n            text-align: center;\n            border-bottom: 2px solid #e0e0e0;\n        }\n        h1 { font-size: 24px; margin-bottom: 8px; }\n        .subtitle { font-size: 14px; color: #666; }\n        \n        #visual-area {\n            position: relative;\n            height: 50vh;\n            min-height: 300px;\n            background: radial-gradient(ellipse at center, #1a1a2e 0%, #0f0f1a 50%, #0b0b14 100%);\n            border-radius: 8px;\n            margin: 16px 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            overflow: hidden;\n            box-shadow: inset 0 0 40px rgba(0,0,0,0.5);\n        }\n        \n        svg {\n            width: 95%;\n            max-width: 500px;\n            height: auto;\n            display: block;\n        }\n        \n        .sun {\n            fill: url(#sunGradient);\n            stroke: #FFD700;\n            stroke-width: 2;\n        }\n        \n        .orbit {\n            fill: none;\n            stroke: rgba(255, 255, 255, 0.2);\n            stroke-width: 2;\n        }\n        \n        .earth {\n            stroke: rgba(255, 255, 255, 0.3);\n            stroke-width: 1;\n        }\n        \n        .axis {\n            stroke: #FFD700;\n            stroke-width: 2;\n            stroke-dasharray: 4 4;\n        }\n        \n        .terminator {\n            fill: rgba(0, 0, 0, 0.4);\n        }\n        \n        .season-label {\n            font-size: 12px;\n            fill: #FFD700;\n            text-anchor: middle;\n        }\n        \n        .legend {\n            font-size: 12px;\n            fill: #FFD700;\n        }\n        \n        #controls {\n            padding: 16px;\n            background: #fafafa;\n            border-radius: 8px;\n            margin: 16px 0;\n        }\n        \n        .control-group {\n            margin: 16px 0;\n        }\n        \n        .control-label {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 8px;\n            font-weight: 500;\n        }\n        \n        input[type=\"range\"] {\n            width: 100%;\n            height: 44px;\n            cursor: pointer;\n        }\n        \n        button {\n            width: 100%;\n            min-height: 48px;\n            padding: 12px;\n            font-size: 16px;\n            background: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            margin: 8px 0;\n        }\n        \n        button:active {\n            transform: scale(0.98);\n        }\n        \n        #info {\n            padding: 16px;\n            background: #e3f2fd;\n            border-radius: 8px;\n            margin: 16px 0;\n        }\n        \n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 8px 0;\n            font-size: 14px;\n        }\n        \n        .toggle {\n            display: flex;\n            gap: 12px;\n            align-items: center;\n            margin: 8px 0;\n        }\n        \n        .toggle input {\n            width: auto;\n            height: auto;\n            margin-right: 8px;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"app\">\n        <header>\n            <h1>Earth's Rotation and Orbit</h1>\n            <p class=\"subtitle\">Interactive simulation showing Earth's axial tilt, rotation, and orbit around the Sun</p>\n        </header>\n        \n        <div id=\"visual-area\">\n            <svg viewBox=\"0 0 600 600\" xmlns=\"http://www.w3.org/2000/svg\">\n                <defs>\n                    <radialGradient id=\"sunGradient\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n                        <stop offset=\"0%\" stop-color=\"#FFF59D\"/>\n                        <stop offset=\"50%\" stop-color=\"#FFD700\"/>\n                        <stop offset=\"100%\" stop-color=\"#FF8C00\"/>\n                    </radialGradient>\n                    <radialGradient id=\"earthGradient\" cx=\"30%\" cy=\"30%\" r=\"70%\">\n                        <stop offset=\"0%\" stop-color=\"#87CEEB\"/>\n                        <stop offset=\"50%\" stop-color=\"#4A90E2\"/>\n                        <stop offset=\"100%\" stop-color=\"#2C5AA0\"/>\n                    </radialGradient>\n                </defs>\n                \n                <!-- Sun at center -->\n                <circle id=\"sun\" class=\"sun\" cx=\"300\" cy=\"300\" r=\"40\"></circle>\n                \n                <!-- Orbit path -->\n                <circle id=\"orbit\" class=\"orbit\" cx=\"300\" cy=\"300\" r=\"200\"></circle>\n                \n                <!-- Earth group -->\n                <g id=\"earthGroup\">\n                    <!-- Earth sphere -->\n                    <circle id=\"earth\" class=\"earth\" r=\"25\" fill=\"url(#earthGradient)\"></circle>\n                    \n                    <!-- Axis line -->\n                    <line id=\"axis\" class=\"axis\" x1=\"-25\" y1=\"0\" x2=\"25\" y2=\"0\"></line>\n                    \n                    <!-- Terminator line (day/night boundary) -->\n                    <path id=\"terminator\" class=\"terminator\" d=\"\"></path>\n                </g>\n                \n                <!-- Season labels -->\n                <text class=\"season-label\" x=\"300\" y=\"80\">Summer Solstice</text>\n                <text class=\"season-label\" x=\"300\" y=\"540\">Winter Solstice</text>\n                <text class=\"season-label\" x=\"80\" y=\"310\">Spring Equinox</text>\n                <text class=\"season-label\" x=\"520\" y=\"310\">Fall Equinox</text>\n                \n                <!-- Legend -->\n                <text class=\"legend\" x=\"20\" y=\"580\">Yellow line = Earth's axis (23.5° tilt)</text>\n                <text class=\"legend\" x=\"20\" y=\"595\">Dark area = Night side of Earth</text>\n            </svg>\n        </div>\n        \n        <div id=\"controls\">\n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Rotation Speed</span>\n                    <span id=\"rotationValue\">1.0x</span>\n                </div>\n                <input type=\"range\" id=\"rotationSlider\" min=\"0\" max=\"3\" step=\"0.1\" value=\"1\">\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Orbit Speed</span>\n                    <span id=\"orbitValue\">1.0x</span>\n                </div>\n                <input type=\"range\" id=\"orbitSlider\" min=\"0\" max=\"3\" step=\"0.1\" value=\"1\">\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Earth Tilt</span>\n                    <span id=\"tiltValue\">23.5°</span>\n                </div>\n                <input type=\"range\" id=\"tiltSlider\" min=\"0\" max=\"45\" step=\"0.1\" value=\"23.5\">\n            </div>\n            \n            <div class=\"toggle\">\n                <input type=\"checkbox\" id=\"showAxis\">\n                <label for=\"showAxis\">Show Earth's axis</label>\n            </div>\n            \n            <div class=\"toggle\">\n                <input type=\"checkbox\" id=\"showTerminator\">\n                <label for=\"showTerminator\">Show day/night terminator</label>\n            </div>\n            \n            <button id=\"pauseBtn\">Pause</button>\n            <button id=\"resetBtn\">Reset</button>\n        </div>\n        \n        <div id=\"info\">\n            <div class=\"info-row\">\n                <span>Current Season:</span>\n                <span id=\"season\">Spring</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Day Length:</span>\n                <span id=\"dayLength\">12 hours</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Earth Position:</span>\n                <span id=\"position\">0°</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Axis Tilt:</span>\n                <span id=\"axisTilt\">23.5°</span>\n            </div>\n        </div>\n    </div>\n    \n    <script>\n        // Simulation variables\n        let rotationSpeed = 1.0;\n        let orbitSpeed = 1.0;\n        let earthTilt = 23.5;\n        let orbitAngle = 0;\n        let rotationAngle = 0;\n        let isPaused = false;\n        let animationId = null;\n        \n        // DOM elements\n        const earthGroup = document.getElementById('earthGroup');\n        const earth = document.getElementById('earth');\n        const axis = document.getElementById('axis');\n        const terminator = document.getElementById('terminator');\n        const seasonText = document.getElementById('season');\n        const dayLengthText = document.getElementById('dayLength');\n        const positionText = document.getElementById('position');\n        const axisTiltText = document.getElementById('axisTilt');\n        const rotationValue = document.getElementById('rotationValue');\n        const orbitValue = document.getElementById('orbitValue');\n        const tiltValue = document.getElementById('tiltValue');\n        const showAxisCheckbox = document.getElementById('showAxis');\n        const showTerminatorCheckbox = document.getElementById('showTerminator');\n        const pauseBtn = document.getElementById('pauseBtn');\n        const resetBtn = document.getElementById('resetBtn');\n        \n        // Initialize\n        function init() {\n            // Center Earth at orbit position 0\n            earthGroup.setAttribute('transform', 'translate(300, 300) rotate(0) translate(200, 0)');\n            \n            // Set initial axis tilt\n            updateAxisVisibility();\n            updateTerminatorVisibility();\n            updateAxisTiltText();\n            \n            // Start animation\n            animate();\n            \n            // Event listeners\n            document.getElementById('rotationSlider').addEventListener('input', (e) => {\n                rotationSpeed = parseFloat(e.target.value);\n                rotationValue.textContent = rotationSpeed.toFixed(1) + 'x';\n            });\n            \n            document.getElementById('orbitSlider').addEventListener('input', (e) => {\n                orbitSpeed = parseFloat(e.target.value);\n                orbitValue.textContent = orbitSpeed.toFixed(1) + 'x';\n            });\n            \n            document.getElementById('tiltSlider').addEventListener('input', (e) => {\n                earthTilt = parseFloat(e.target.value);\n                tiltValue.textContent = earthTilt.toFixed(1) + '°';\n                updateAxisTiltText();\n            });\n            \n            showAxisCheckbox.addEventListener('change', updateAxisVisibility);\n            showTerminatorCheckbox.addEventListener('change', updateTerminatorVisibility);\n            \n            pauseBtn.addEventListener('click', togglePause);\n            resetBtn.addEventListener('click', resetSimulation);\n        }\n        \n        function updateAxisVisibility() {\n            axis.style.display = showAxisCheckbox.checked ? 'block' : 'none';\n        }\n        \n        function updateTerminatorVisibility() {\n            terminator.style.display = showTerminatorCheckbox.checked ? 'block' : 'none';\n        }\n        \n        function updateAxisTiltText() {\n            axisTiltText.textContent = earthTilt.toFixed(1) + '°';\n        }\n        \n        function togglePause() {\n            isPaused = !isPaused;\n            pauseBtn.textContent = isPaused ? 'Resume' : 'Pause';\n            if (isPaused) {\n                cancelAnimationFrame(animationId);\n            } else {\n                animate();\n            }\n        }\n        \n        function resetSimulation() {\n            orbitAngle = 0;\n            rotationAngle = 0;\n            rotationSpeed = 1.0;\n            orbitSpeed = 1.0;\n            earthTilt = 23.5;\n            \n            document.getElementById('rotationSlider').value = '1';\n            document.getElementById('orbitSlider').value = '1';\n            document.getElementById('tiltSlider').value = '23.5';\n            \n            rotationValue.textContent = '1.0x';\n            orbitValue.textContent = '1.0x';\n            tiltValue.textContent = '23.5°';\n            \n            updateAxisTiltText();\n            updateEarthPosition();\n        }\n        \n        function animate() {\n            if (!isPaused) {\n                // Update angles\n                orbitAngle += 0.5 * orbitSpeed;\n                rotationAngle += 2 * rotationSpeed;\n                \n                // Keep angles within 0-360\n                if (orbitAngle >= 360) orbitAngle -= 360;\n                if (rotationAngle >= 360) rotationAngle -= 360;\n                \n                updateEarthPosition();\n                \n                animationId = requestAnimationFrame(animate);\n            }\n        }\n        \n        function updateEarthPosition() {\n            // Calculate Earth's position on orbit\n            const centerX = 300;\n            const centerY = 300;\n            const orbitRadius = 200;\n            \n            const x = centerX + orbitRadius * Math.cos(orbitAngle * Math.PI / 180);\n            const y = centerY + orbitRadius * Math.sin(orbitAngle * Math.PI / 180);\n            \n            // Calculate season based on orbit angle\n            const season = getSeason(orbitAngle);\n            seasonText.textContent = season.name;\n            \n            // Calculate day length based on season and tilt\n            const dayLength = calculateDayLength(orbitAngle, earthTilt);\n            dayLengthText.textContent = dayLength.toFixed(2) + ' hours';\n            \n            // Update position display\n            positionText.textContent = orbitAngle.toFixed(1) + '°';\n            \n            // Apply transforms to Earth group\n            // 1. Translate to center\n            // 2. Rotate around center (orbit)\n            // 3. Translate to orbit radius\n            // 4. Rotate Earth on its axis (with tilt)\n            earthGroup.setAttribute('transform', \n                `translate(${centerX}, ${centerY}) ` +\n                `rotate(${orbitAngle}) ` +\n                `translate(${orbitRadius}, 0) ` +\n                `rotate(${-earthTilt}) ` +\n                `rotate(${rotationAngle})`\n            );\n            \n            // Update terminator line based on sun position\n            updateTerminator(x, y, season.tiltDirection);\n        }\n        \n        function getSeason(angle) {\n            // 0° = Spring Equinox, 90° = Summer Solstice, 180° = Fall Equinox, 270° = Winter Solstice\n            const normalized = (angle + 360) % 360;\n            \n            if (normalized >= 330 || normalized < 30) return { name: 'Spring', tiltDirection: 1 };\n            if (normalized >= 30 && normalized < 60) return { name: 'Spring', tiltDirection: 1 };\n            if (normalized >= 60 && normalized < 120) return { name: 'Summer', tiltDirection: 1 };\n            if (normalized >= 120 && normalized < 150) return { name: 'Summer', tiltDirection: 1 };\n            if (normalized >= 150 && normalized < 210) return { name: 'Fall', tiltDirection: -1 };\n            if (normalized >= 210 && normalized < 240) return { name: 'Fall', tiltDirection: -1 };\n            if (normalized >= 240 && normalized < 300) return { name: 'Winter', tiltDirection: -1 };\n            if (normalized >= 300 && normalized < 330) return { name: 'Winter', tiltDirection: -1 };\n            \n            return { name: 'Spring', tiltDirection: 1 };\n        }\n        \n        function calculateDayLength(angle, tilt) {\n            // Simplified day length calculation based on season\n            // At equinoxes: 12 hours\n            // At solstices: varies based on tilt\n            const normalized = (angle + 360) % 360;\n            \n            // Calculate how close we are to solstices (90° and 270°)\n            const distanceToSummer = Math.min(\n                Math.abs(normalized - 90),\n                360 - Math.abs(normalized - 90)\n            );\n            const distanceToWinter = Math.min(\n                Math.abs(normalized - 270),\n                360 - Math.abs(normalized - 270)\n            );\n            \n            // Interpolate between 12 hours and extremes\n            const maxDeviation = tilt / 10; // Simplified\n            const summerDayLength = 12 + maxDeviation;\n            const winterDayLength = 12 - maxDeviation;\n            \n            if (distanceToSummer < distanceToWinter) {\n                // Closer to summer solstice\n                const t = 1 - (distanceToSummer / 90);\n                return 12 + (summerDayLength - 12) * t;\n            } else {\n                // Closer to winter solstice\n                const t = 1 - (distanceToWinter / 90);\n                return 12 + (winterDayLength - 12) * t;\n            }\n        }\n        \n        function updateTerminator(earthX, earthY, tiltDirection) {\n            // Calculate terminator line based on sun position and Earth's tilt\n            // Sun is at (300, 300), Earth is at (earthX, earthY)\n            const sunX = 300;\n            const sunY = 300;\n            const earthRadius = 25;\n            \n            // Vector from Earth to Sun\n            let dx = sunX - earthX;\n            let dy = sunY - earthY;\n            const distance = Math.sqrt(dx * dx + dy * dy);\n            \n            // Normalize\n            dx = dx / distance;\n            dy = dy / distance;\n            \n            // Rotate by Earth's tilt (simplified)\n            const tiltRad = (earthTilt * Math.PI / 180) * tiltDirection;\n            const cosT = Math.cos(tiltRad);\n            const sinT = Math.sin(tiltRad);\n            \n            const rotatedDx = dx * cosT - dy * sinT;\n            const rotatedDy = dx * sinT + dy * cosT;\n            \n            // Calculate terminator ellipse\n            const a = earthRadius; // semi-major axis\n            const b = earthRadius * 0.7; // semi-minor axis (flattened)\n            \n            // Terminator is a line through center, perpendicular to sun direction\n            const normalDx = -rotatedDy;\n            const normalDy = rotatedDx;\n            \n            // Create elliptical terminator path\n            const steps = 20;\n            let path = '';\n            \n            for (let i = 0; i <= steps; i++) {\n                const t = (i / steps) * Math.PI * 2;\n                const x = Math.cos(t) * a * 0.8;\n                const y = Math.sin(t) * b * 0.8;\n                \n                // Rotate to align with sun direction\n                const rx = x * normalDx - y * normalDy;\n                const ry = x * normalDy + y * normalDx;\n                \n                if (i === 0) {\n                    path = `M ${rx} ${ry}`;\n                } else {\n                    path += ` L ${rx} ${ry}`;\n                }\n            }\n            \n            terminator.setAttribute('d', path + ' Z');\n        }\n        \n        // Start the simulation\n        init();\n    </script>\n</body>\n</html>",
  "explanations": [
    "Added viewport meta tag for proper mobile responsiveness",
    "Ensured #visual-area has explicit height (50vh) and flexbox centering for SVG",
    "SVG has proper viewBox attribute (0 0 600 600) and responsive sizing (95% width, max-width 500px)",
    "All HTML tags are properly closed and nested correctly",
    "Input range elements have proper height (44px) for touch interaction",
    "Buttons have minimum height (48px) for proper touch targets",
    "JavaScript properly accesses DOM elements and handles animation loop",
    "All event listeners are correctly attached to DOM elements",
    "CSS uses responsive units and proper centering techniques",
    "No syntax errors or undefined variables in the JavaScript code"
  ]
}