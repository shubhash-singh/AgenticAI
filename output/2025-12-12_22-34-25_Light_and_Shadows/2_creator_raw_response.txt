{
  "index.html": "<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Light and Shadows</title>\n    <style>\n        :root {\n            --bg: #f8f9fa;\n            --panel: #ffffff;\n            --text: #212529;\n            --muted: #6c757d;\n            --primary: #0d6efd;\n            --success: #198754;\n            --danger: #dc3545;\n            --warning: #ffc107;\n        }\n        * {\n            box-sizing: border-box;\n        }\n        body {\n            margin: 0;\n            font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n            background: var(--bg);\n            color: var(--text);\n            line-height: 1.4;\n        }\n        .container {\n            max-width: 900px;\n            margin: 0 auto;\n            padding: 12px;\n        }\n        .banner {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 14px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n            margin-bottom: 12px;\n        }\n        .banner h1 {\n            margin: 0 0 6px 0;\n            font-size: 20px;\n        }\n        .banner p {\n            margin: 0;\n            color: var(--muted);\n            font-size: 14px;\n        }\n        .canvas-wrap {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 12px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n            margin-bottom: 12px;\n        }\n        .canvas {\n            width: 100%;\n            height: 320px;\n            position: relative;\n            background: linear-gradient(180deg, #eef2ff 0%, #ffffff 100%);\n            border-radius: 10px;\n            overflow: hidden;\n            border: 1px solid #e9ecef;\n        }\n        .legend {\n            display: flex;\n            gap: 10px;\n            align-items: center;\n            font-size: 12px;\n            color: var(--muted);\n            margin-top: 8px;\n        }\n        .legend .dot {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            display: inline-block;\n            margin-right: 6px;\n        }\n        .dot.light { background: #ffd54f; }\n        .dot.shadow { background: #212529; }\n        .dot.faint { background: #8b94a3; }\n        .controls {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 12px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n            margin-bottom: 12px;\n        }\n        .control-group {\n            margin-bottom: 12px;\n        }\n        .control-group h3 {\n            margin: 0 0 8px 0;\n            font-size: 14px;\n            color: var(--text);\n        }\n        .row {\n            display: flex;\n            gap: 8px;\n            flex-wrap: wrap;\n        }\n        .slider {\n            width: 100%;\n            padding: 8px;\n        }\n        .slider input[type=\"range\"] {\n            width: 100%;\n            height: 32px;\n            -webkit-appearance: none;\n            appearance: none;\n            background: transparent;\n        }\n        .slider input[type=\"range\"]::-webkit-slider-runnable-track {\n            height: 6px;\n            background: #e9ecef;\n            border-radius: 999px;\n        }\n        .slider input[type=\"range\"]::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 20px;\n            height: 20px;\n            margin-top: -7px;\n            background: var(--primary);\n            border-radius: 50%;\n            border: 2px solid white;\n            box-shadow: 0 2px 6px rgba(13,110,253,0.4);\n        }\n        .slider input[type=\"range\"]::-moz-range-track {\n            height: 6px;\n            background: #e9ecef;\n            border-radius: 999px;\n        }\n        .slider input[type=\"range\"]::-moz-range-thumb {\n            width: 20px;\n            height: 20px;\n            background: var(--primary);\n            border: 2px solid white;\n            border-radius: 50%;\n            box-shadow: 0 2px 6px rgba(13,110,253,0.4);\n        }\n        .btn-group {\n            display: flex;\n            gap: 8px;\n            flex-wrap: wrap;\n        }\n        .btn {\n            flex: 1;\n            min-width: 90px;\n            padding: 10px 12px;\n            border-radius: 10px;\n            border: 1px solid #e9ecef;\n            background: #f8f9fa;\n            color: var(--text);\n            font-size: 14px;\n            text-align: center;\n            cursor: pointer;\n            user-select: none;\n            touch-action: manipulation;\n        }\n        .btn.active {\n            background: var(--primary);\n            color: white;\n            border-color: var(--primary);\n        }\n        .btn.toggle {\n            display: inline-flex;\n            align-items: center;\n            gap: 8px;\n        }\n        .toggle-switch {\n            width: 44px;\n            height: 24px;\n            background: #e9ecef;\n            border-radius: 999px;\n            position: relative;\n            transition: background 0.2s;\n        }\n        .toggle-switch .knob {\n            position: absolute;\n            top: 2px;\n            left: 2px;\n            width: 20px;\n            height: 20px;\n            background: white;\n            border-radius: 50%;\n            transition: left 0.2s;\n        }\n        .toggle.on .toggle-switch {\n            background: #b6d7ff;\n        }\n        .toggle.on .toggle-switch .knob {\n            left: 22px;\n        }\n        .reset {\n            width: 100%;\n            padding: 12px;\n            border-radius: 10px;\n            border: 1px solid #e9ecef;\n            background: #f8f9fa;\n            color: var(--text);\n            font-size: 14px;\n            text-align: center;\n            cursor: pointer;\n            user-select: none;\n        }\n        .hint {\n            background: var(--panel);\n            border-radius: 12px;\n            padding: 12px;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n            margin-bottom: 12px;\n        }\n        .hint h3 {\n            margin: 0 0 6px 0;\n            font-size: 14px;\n        }\n        .hint ul {\n            margin: 0;\n            padding-left: 16px;\n            font-size: 13px;\n            color: var(--muted);\n        }\n        .hint li {\n            margin-bottom: 4px;\n        }\n        .footer {\n            text-align: center;\n            font-size: 12px;\n            color: var(--muted);\n            padding: 8px;\n        }\n        .label {\n            font-size: 12px;\n            color: var(--muted);\n            margin-bottom: 4px;\n        }\n        .value {\n            font-size: 12px;\n            color: var(--muted);\n            margin-top: 2px;\n        }\n        .mode-toggle {\n            display: flex;\n            gap: 8px;\n            margin-bottom: 8px;\n        }\n        .mode-btn {\n            flex: 1;\n            padding: 10px 12px;\n            border-radius: 10px;\n            border: 1px solid #e9ecef;\n            background: #f8f9fa;\n            color: var(--text);\n            font-size: 14px;\n            text-align: center;\n            cursor: pointer;\n        }\n        .mode-btn.active {\n            background: var(--success);\n            color: white;\n            border-color: var(--success);\n        }\n        .pinhole-box {\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n            width: 260px;\n            height: 160px;\n            background: #1a1a1a;\n            border-radius: 8px;\n            box-shadow: inset 0 0 20px rgba(0,0,0,0.6);\n        }\n        .pinhole-hole {\n            position: absolute;\n            left: 20px;\n            top: 50%;\n            transform: translateY(-50%);\n            width: 8px;\n            height: 8px;\n            background: #ffffff;\n            border-radius: 50%;\n            box-shadow: 0 0 8px rgba(255,255,255,0.6);\n        }\n        .pinhole-screen {\n            position: absolute;\n            right: 0;\n            top: 0;\n            width: 2px;\n            height: 100%;\n            background: #ffffff;\n        }\n        .pinhole-label {\n            position: absolute;\n            right: 8px;\n            top: 8px;\n            font-size: 11px;\n            color: #6c757d;\n        }\n        .ray {\n            position: absolute;\n            height: 2px;\n            background: #ffd54f;\n            border-radius: 2px;\n            box-shadow: 0 0 6px rgba(255,213,79,0.6);\n            transform-origin: left center;\n            opacity: 0.9;\n        }\n        .shadow {\n            position: absolute;\n            background: rgba(33,37,41,0.9);\n            border-radius: 6px;\n            box-shadow: inset 0 0 12px rgba(0,0,0,0.6);\n        }\n        .shadow.faint {\n            background: rgba(139,148,163,0.6);\n        }\n        .object {\n            position: absolute;\n            border-radius: 50%;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n        }\n        .object.square {\n            border-radius: 8px;\n        }\n        .object.hand {\n            border-radius: 10px;\n        }\n        .light-source {\n            position: absolute;\n            left: 12px;\n            top: 50%;\n            transform: translateY(-50%);\n            width: 24px;\n            height: 24px;\n            background: #ffd54f;\n            border-radius: 50%;\n            box-shadow: 0 0 12px rgba(255,213,79,0.8);\n        }\n        .screen-line {\n            position: absolute;\n            right: 12px;\n            top: 0;\n            width: 2px;\n            height: 100%;\n            background: #e9ecef;\n        }\n        .screen-label {\n            position: absolute;\n            right: 18px;\n            top: 8px;\n            font-size: 11px;\n            color: #6c757d;\n        }\n        .pinhole-info {\n            position: absolute;\n            left: 8px;\n            bottom: 8px;\n            font-size: 11px;\n            color: #6c757d;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"banner\">\n            <h1>Light and Shadows</h1>\n            <p>Welcome to the Light and Shadows simulation! Use the sliders and buttons to explore how light behaves. Try these steps: 1) Make the object opaque and move the light to see shadow changes. 2) Switch to transparent and notice no shadow forms. 3) Try translucent for a faint shadow. 4) Explore the pin-hole camera and see how images form. Have fun experimenting!</p>\n        </div>\n        <div class=\"canvas-wrap\">\n            <div class=\"canvas\" id=\"canvas\">\n                <div class=\"light-source\" id=\"lightSource\"></div>\n                <div class=\"object\" id=\"object\"></div>\n                <div class=\"shadow\" id=\"shadow\"></div>\n                <div class=\"screen-line\"></div>\n                <div class=\"screen-label\">Screen</div>\n                <div class=\"pinhole-box\" id=\"pinholeBox\" style=\"display:none;\">\n                    <div class=\"pinhole-hole\"></div>\n                    <div class=\"pinhole-screen\" id=\"pinholeScreen\"></div>\n                    <div class=\"pinhole-label\" id=\"pinholeLabel\">Screen</div>\n                    <div class=\"pinhole-info\" id=\"pinholeInfo\">Distance: 60px</div>\n                </div>\n                <div class=\"legend\">\n                    <span><span class=\"dot light\"></span>Light rays</span>\n                    <span><span class=\"dot shadow\"></span>Shadow (opaque)</span>\n                    <span><span class=\"dot faint\"></span>Shadow (translucent)</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"controls\">\n            <div class=\"mode-toggle\">\n                <div class=\"mode-btn active\" id=\"modeShadow\">Shadow Mode</div>\n                <div class=\"mode-btn\" id=\"modePinhole\">Pin-Hole Camera</div>\n            </div>\n            <div class=\"control-group\">\n                <h3>Light Source Angle</h3>\n                <div class=\"slider\">\n                    <input type=\"range\" id=\"lightAngle\" min=\"0\" max=\"180\" value=\"90\">\n                    <div class=\"value\">Angle: 90°</div>\n                </div>\n            </div>\n            <div class=\"control-group\">\n                <h3>Light Source Distance</h3>\n                <div class=\"slider\">\n                    <input type=\"range\" id=\"lightDistance\" min=\"10\" max=\"200\" value=\"100\">\n                    <div class=\"value\">Distance: 100px</div>\n                </div>\n            </div>\n            <div class=\"control-group\">\n                <h3>Object Type</h3>\n                <div class=\"btn-group\">\n                    <div class=\"btn active\" data-type=\"opaque\">Opaque</div>\n                    <div class=\"btn\" data-type=\"transparent\">Transparent</div>\n                    <div class=\"btn\" data-type=\"translucent\">Translucent</div>\n                </div>\n            </div>\n            <div class=\"control-group\">\n                <h3>Object Shape</h3>\n                <div class=\"btn-group\">\n                    <div class=\"btn active\" data-shape=\"circle\">Circle</div>\n                    <div class=\"btn\" data-shape=\"square\">Square</div>\n                    <div class=\"btn\" data-shape=\"hand\">Hand (Shadow Puppet)</div>\n                </div>\n            </div>\n            <div class=\"control-group\" id=\"pinholeControls\" style=\"display:none;\">\n                <h3>Screen Distance (Pin-Hole Camera)</h3>\n                <div class=\"slider\">\n                    <input type=\"range\" id=\"screenDistance\" min=\"20\" max=\"150\" value=\"60\">\n                    <div class=\"value\">Distance: 60px</div>\n                </div>\n            </div>\n            <div class=\"control-group\">\n                <h3>Show Light Rays</h3>\n                <div class=\"btn toggle\" id=\"toggleRays\">\n                    <div class=\"toggle-switch\"><div class=\"knob\"></div></div>\n                    <span>Light rays</span>\n                </div>\n            </div>\n            <div class=\"reset\" id=\"resetBtn\">Reset to Default</div>\n        </div>\n        <div class=\"hint\">\n            <h3>Key Takeaways</h3>\n            <ul>\n                <li>Light travels in straight lines.</li>\n                <li>Opaque objects block light completely, forming clear shadows.</li>\n                <li>Transparent objects allow light to pass through completely; translucent objects scatter light.</li>\n                <li>A pin-hole camera forms an inverted image due to straight-line light travel.</li>\n            </ul>\n        </div>\n        <div class=\"footer\">Interactive Lab • Grade 7 Science</div>\n    </div>\n    <script>\n        const canvas = document.getElementById('canvas');\n        const lightSource = document.getElementById('lightSource');\n        const object = document.getElementById('object');\n        const shadow = document.getElementById('shadow');\n        const pinholeBox = document.getElementById('pinholeBox');\n        const pinholeScreen = document.getElementById('pinholeScreen');\n        const pinholeLabel = document.getElementById('pinholeLabel');\n        const pinholeInfo = document.getElementById('pinholeInfo');\n        const lightAngle = document.getElementById('lightAngle');\n        const lightDistance = document.getElementById('lightDistance');\n        const screenDistance = document.getElementById('screenDistance');\n        const toggleRays = document.getElementById('toggleRays');\n        const resetBtn = document.getElementById('resetBtn');\n        const modeShadow = document.getElementById('modeShadow');\n        const modePinhole = document.getElementById('modePinhole');\n        const pinholeControls = document.getElementById('pinholeControls');\n        const raysContainer = canvas;\n        let rays = [];\n        let showRays = true;\n        let mode = 'shadow';\n        let objectState = {\n            type: 'opaque',\n            shape: 'circle',\n            size: 60\n        };\n        function clearRays() {\n            rays.forEach(r => r.remove());\n            rays = [];\n        }\n        function createRay(x1, y1, x2, y2) {\n            const ray = document.createElement('div');\n            ray.className = 'ray';\n            const dx = x2 - x1;\n            const dy = y2 - y1;\n            const length = Math.sqrt(dx*dx + dy*dy);\n            ray.style.width = length + 'px';\n            ray.style.left = x1 + 'px';\n            ray.style.top = (y1 - 1) + 'px';\n            const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n            ray.style.transform = `rotate(${angle}deg)`;\n            raysContainer.appendChild(ray);\n            rays.push(ray);\n            return ray;\n        }\n        function updateCanvas() {\n            const canvasRect = canvas.getBoundingClientRect();\n            const canvasW = canvasRect.width;\n            const canvasH = canvasRect.height;\n            const angle = parseFloat(lightAngle.value);\n            const distance = parseFloat(lightDistance.value);\n            const screenDist = parseFloat(screenDistance.value);\n            const objectX = canvasW / 2;\n            const objectY = canvasH / 2;\n            const lightX = 12 + distance;\n            const lightY = canvasH / 2;\n            lightSource.style.left = lightX + 'px';\n            lightSource.style.top = lightY + 'px';\n            object.style.left = (objectX - objectState.size/2) + 'px';\n            object.style.top = (objectY - objectState.size/2) + 'px';\n            object.style.width = objectState.size + 'px';\n            object.style.height = objectState.size + 'px';\n            object.className = 'object ' + objectState.shape;\n            if (objectState.type === 'transparent') {\n                object.style.background = 'rgba(255,255,255,0.1)';\n                object.style.boxShadow = '0 0 0 rgba(0,0,0,0)';\n            } else if (objectState.type === 'translucent') {\n                object.style.background = 'rgba(200,200,200,0.6)';\n                object.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';\n            } else {\n                object.style.background = '#343a40';\n                object.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';\n            }\n            clearRays();\n            if (!showRays) return;\n            if (mode === 'shadow') {\n                const rayCount = 12;\n                for (let i = 0; i < rayCount; i++) {\n                    const spread = (i - rayCount/2) * 6;\n                    const rayAngle = angle + spread;\n                    const rayLen = canvasW;\n                    const x1 = lightX;\n                    const y1 = lightY;\n                    const x2 = x1 + Math.cos(rayAngle * Math.PI/180) * rayLen;\n                    const y2 = y1 + Math.sin(rayAngle * Math.PI/180) * rayLen;\n                    if (objectState.type === 'opaque') {\n                        const hit = rayIntersectsObject(x1, y1, x2, y2, objectX, objectY, objectState.size);\n                        if (hit) {\n                            createRay(x1, y1, hit.x, hit.y);\n                        } else {\n                            createRay(x1, y1, x2, y2);\n                        }\n                    } else {\n                        createRay(x1, y1, x2, y2);\n                    }\n                }\n                updateShadow();\n            } else if (mode === 'pinhole') {\n                const boxW = 260;\n                const boxH = 160;\n                const holeX = 20;\n                const holeY = boxH/2;\n                const screenX = boxW - 2;\n                const screenY = boxH/2;\n                const objW = 60;\n                const objH = 60;\n                const objX = holeX - 80;\n                const objY = boxH/2;\n                const rayCount = 10;\n                for (let i = 0; i < rayCount; i++) {\n                    const y = objY - objH/2 + (i * objH / (rayCount-1));\n                    const x = objX;\n                    const ray = createRay(x, y, holeX, holeY);\n                    ray.style.left = (parseFloat(ray.style.left) + 50) + 'px';\n                    ray.style.top = (parseFloat(ray.style.top) + (canvasH/2 - boxH/2)) + 'px';\n                    const screenY2 = holeY - (y - objY) * (screenDist / 80);\n                    const ray2 = createRay(holeX + 50, screenY2 + (canvasH/2 - boxH/2), screenX + 50, screenY2 + (canvasH/2 - boxH/2));\n                    ray2.style.left = (parseFloat(ray2.style.left) - 2) + 'px';\n                    ray2.style.width = '2px';\n                    ray2.style.height = '2px';\n                    ray2.style.background = '#ffd54f';\n                    ray2.style.boxShadow = '0 0 6px rgba(255,213,79,0.6)';\n                }\n                updatePinholeImage();\n            }\n        }\n        function rayIntersectsObject(x1, y1, x2, y2, cx, cy, size) {\n            const r = size/2;\n            const dx = x2 - x1;\n            const dy = y2 - y1;\n            const fx = x1 - cx;\n            const fy = y1 - cy;\n            const a = dx*dx + dy*dy;\n            const b = 2*(fx*dx + fy*dy);\n            const c = fx*fx + fy*fy - r*r;\n            const discriminant = b*b - 4*a*c;\n            if (discriminant < 0) return null;\n            const t1 = (-b - Math.sqrt(discriminant)) / (2*a);\n            const t2 = (-b + Math.sqrt(discriminant)) / (2*a);\n            let t = t1;\n            if (t < 0) t = t2;\n            if (t < 0 || t > 1) return null;\n            return {\n                x: x1 + t*dx,\n                y: y1 + t*dy\n            };\n        }\n        function updateShadow() {\n            const canvasRect = canvas.getBoundingClientRect();\n            const canvasW = canvasRect.width;\n            const canvasH = canvasRect.height;\n            const angle = parseFloat(lightAngle.value);\n            const distance = parseFloat(lightDistance.value);\n            const objectX = canvasW / 2;\n            const objectY = canvasH / 2;\n            const lightX = 12 + distance;\n            const lightY = canvasH / 2;\n            const size = objectState.size;\n            const shadowX = objectX + (objectX - lightX) * (canvasW - objectX) / (objectX - lightX);\n            const shadowY = objectY + (objectY - lightY) * (canvasW - objectX) / (objectX - lightX);\n            const shadowW = size * (canvasW - objectX) / (objectX - lightX);\n            const shadowH = size * (canvasW - objectX) / (objectX - lightX);\n            shadow.style.left = (shadowX - shadowW/2) + 'px';\n            shadow.style.top = (shadowY - shadowH/2) + 'px';\n            shadow.style.width = shadowW + 'px';\n            shadow.style.height = shadowH + 'px';\n            shadow.style.borderRadius = objectState.shape === 'circle' ? '50%' : '6px';\n            shadow.style.display = objectState.type === 'opaque' || objectState.type === 'translucent' ? 'block' : 'none';\n            shadow.className = 'shadow ' + (objectState.type === 'translucent' ? 'faint' : '');\n        }\n        function updatePinholeImage() {\n            const screenDist = parseFloat(screenDistance.value);\n            const boxW = 260;\n            const boxH = 160;\n            const holeX = 20;\n            const holeY = boxH/2;\n            const objW = 60;\n            const objH = 60;\n            const objX = holeX - 80;\n            const objY = boxH/2;\n            const imageW = objW * (screenDist / 80);\n            const imageH = objH * (screenDist / 80);\n            const imageX = boxW - 2 - imageW/2;\n            const imageY = holeY + imageH/2;\n            const image = document.getElementById('pinholeImage');\n            if (!image) {\n                const img = document.createElement('div');\n                img.id = 'pinholeImage';\n                img.style.position = 'absolute';\n                img.style.left = imageX + 'px';\n                img.style.top = (imageY - imageH) + 'px';\n                img.style.width = imageW + 'px';\n                img.style.height = imageH + 'px';\n                img.style.background = 'linear-gradient(180deg, #ffffff, #e0e0e0)';\n                img.style.borderRadius = '4px';\n                img.style.boxShadow = 'inset 0 0 12px rgba(0,0,0,0.3)';\n                pinholeBox.appendChild(img);\n            } else {\n                image.style.left = imageX + 'px';\n                image.style.top = (imageY - imageH) + 'px';\n                image.style.width = imageW + 'px';\n                image.style.height = imageH + 'px';\n            }\n            pinholeInfo.textContent = 'Distance: ' + screenDist + 'px';\n        }\n        function setMode(newMode) {\n            mode = newMode;\n            if (mode === 'shadow') {\n                pinholeBox.style.display = 'none';\n                shadow.style.display = objectState.type === 'opaque' || objectState.type === 'translucent' ? 'block' : 'none';\n                pinholeControls.style.display = 'none';\n                modeShadow.classList.add('active');\n                modePinhole.classList.remove('active');\n            } else {\n                pinholeBox.style.display = 'block';\n                shadow.style.display = 'none';\n                pinholeControls.style.display = 'block';\n                modeShadow.classList.remove('active');\n                modePinhole.classList.add('active');\n            }\n            updateCanvas();\n        }\n        lightAngle.addEventListener('input', () => {\n            document.querySelector('.value').textContent = 'Angle: ' + lightAngle.value + '°';\n            updateCanvas();\n        });\n        lightDistance.addEventListener('input', () => {\n            document.querySelectorAll('.value')[1].textContent = 'Distance: ' + lightDistance.value + 'px';\n            updateCanvas();\n        });\n        screenDistance.addEventListener('input', () => {\n            document.querySelectorAll('.value')[3].textContent = 'Distance: ' + screenDistance.value + 'px';\n            updateCanvas();\n        });\n        document.querySelectorAll('.btn[data-type]').forEach(btn => {\n            btn.addEventListener('click', () => {\n                document.querySelectorAll('.btn[data-type]').forEach(b => b.classList.remove('active'));\n                btn.classList.add('active');\n                objectState.type = btn.dataset.type;\n                updateCanvas();\n            });\n        });\n        document.querySelectorAll('.btn[data-shape]').forEach(btn => {\n            btn.addEventListener('click', () => {\n                document.querySelectorAll('.btn[data-shape]').forEach(b => b.classList.remove('active'));\n                btn.classList.add('active');\n                objectState.shape = btn.dataset.shape;\n                updateCanvas();\n            });\n        });\n        toggleRays.addEventListener('click', () => {\n            showRays = !showRays;\n            toggleRays.classList.toggle('on', showRays);\n            updateCanvas();\n        });\n        modeShadow.addEventListener('click', () => setMode('shadow'));\n        modePinhole.addEventListener('click', () => setMode('pinhole'));\n        resetBtn.addEventListener('click', () => {\n            lightAngle.value = 90;\n            lightDistance.value = 100;\n            screenDistance.value = 60;\n            objectState.type = 'opaque';\n            objectState.shape = 'circle';\n            showRays = true;\n            toggleRays.classList.add('on');\n            document.querySelectorAll('.btn[data-type]').forEach(b => b.classList.remove('active'));\n            document.querySelector('.btn[data-type=\"opaque\"]').classList.add('active');\n            document.querySelectorAll('.btn[data-shape]').forEach(b => b.classList.remove('active'));\n            document.querySelector('.btn[data-shape=\"circle\"]').classList.add('active');\n            document.querySelector('.value').textContent = 'Angle: 90°';\n            document.querySelectorAll('.value')[1].textContent = 'Distance: 100px';\n            document.querySelectorAll('.value')[3].textContent = 'Distance: 60px';\n            setMode('shadow');\n            updateCanvas();\n        });\n        window.addEventListener('resize', updateCanvas);\n        updateCanvas();\n    </script>\n</body>\n</html>"
}