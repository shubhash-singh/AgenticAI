{
  "fixed": true,
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Reversible vs Irreversible Changes - Interactive Simulation</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { \n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background: #f9f9f9;\n        }\n        #app { \n            max-width: 600px; \n            margin: 0 auto; \n            padding: 16px; \n            background: white;\n            min-height: 100vh;\n        }\n        header {\n            padding: 16px 0;\n            text-align: center;\n            border-bottom: 2px solid #e0e0e0;\n        }\n        h1 { font-size: 24px; margin-bottom: 8px; }\n        .subtitle { font-size: 14px; color: #666; }\n        \n        #visual-area {\n            position: relative;\n            height: 50vh;\n            min-height: 300px;\n            background: #f5f5f5;\n            border-radius: 8px;\n            margin: 16px 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            overflow: hidden;\n        }\n        \n        .lab-bench {\n            width: 95%;\n            max-width: 500px;\n            height: 80%;\n            background: #e8e8e8;\n            border-radius: 8px;\n            position: relative;\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            padding: 16px;\n        }\n        \n        .beaker-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            gap: 8px;\n        }\n        \n        .beaker-label {\n            font-weight: 600;\n            font-size: 16px;\n            color: #333;\n        }\n        \n        .beaker {\n            width: 120px;\n            height: 200px;\n            position: relative;\n            transition: all 0.3s ease;\n        }\n        \n        .beaker-glass {\n            width: 100%;\n            height: 100%;\n            border: 4px solid #999;\n            border-bottom-width: 6px;\n            border-radius: 0 0 50% 50%;\n            position: relative;\n            background: linear-gradient(180deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));\n        }\n        \n        .water {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            background: linear-gradient(180deg, #4A90E2, #2E74B5);\n            border-radius: 0 0 50% 50%;\n            transition: height 0.5s ease;\n            box-shadow: inset 0 0 20px rgba(0,0,0,0.2);\n        }\n        \n        .salt {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            background: linear-gradient(180deg, #F5A623, #D98A00);\n            border-radius: 0 0 50% 50%;\n            transition: height 0.5s ease;\n            opacity: 0;\n        }\n        \n        .salt-crystals {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            height: 0;\n            background: #F5A623;\n            border-radius: 0 0 50% 50%;\n            transition: height 0.5s ease;\n        }\n        \n        .steam {\n            position: absolute;\n            top: -20px;\n            left: 0;\n            right: 0;\n            height: 0;\n            transition: height 0.5s ease;\n        }\n        \n        .steam-circle {\n            position: absolute;\n            width: 20px;\n            height: 20px;\n            background: rgba(255,255,255,0.8);\n            border-radius: 50%;\n            box-shadow: 0 0 10px rgba(255,255,255,0.5);\n            opacity: 0;\n            transition: all 0.5s ease;\n        }\n        \n        .heat-lamp {\n            position: absolute;\n            top: -60px;\n            right: 20px;\n            width: 80px;\n            height: 60px;\n            background: #333;\n            border-radius: 8px 8px 0 0;\n            transition: all 0.3s ease;\n            opacity: 0;\n        }\n        \n        .heat-lamp:after {\n            content: '';\n            position: absolute;\n            bottom: -10px;\n            left: 10px;\n            right: 10px;\n            height: 10px;\n            background: linear-gradient(180deg, #F5A623, #D98A00);\n            border-radius: 0 0 10px 10px;\n            opacity: 0;\n            transition: all 0.3s ease;\n        }\n        \n        .magnifying-glass {\n            position: absolute;\n            width: 60px;\n            height: 60px;\n            border: 3px solid #333;\n            border-radius: 50%;\n            background: rgba(255,255,255,0.1);\n            transition: all 0.5s ease;\n            pointer-events: none;\n            opacity: 0;\n        }\n        \n        .magnifying-glass:after {\n            content: '';\n            position: absolute;\n            right: -15px;\n            bottom: -15px;\n            width: 25px;\n            height: 10px;\n            background: #333;\n            border-radius: 0 5px 5px 0;\n        }\n        \n        #controls {\n            padding: 16px;\n            background: #fafafa;\n            border-radius: 8px;\n            margin: 16px 0;\n        }\n        \n        .control-group {\n            margin: 16px 0;\n        }\n        \n        .control-label {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 8px;\n            font-weight: 500;\n        }\n        \n        input[type=\"range\"] {\n            width: 100%;\n            height: 44px;\n            cursor: pointer;\n        }\n        \n        button {\n            width: 100%;\n            min-height: 48px;\n            padding: 12px;\n            font-size: 16px;\n            background: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            margin: 8px 0;\n        }\n        \n        button.secondary {\n            background: #7ED321;\n        }\n        \n        button.tertiary {\n            background: #F5A623;\n        }\n        \n        button:active {\n            transform: scale(0.98);\n        }\n        \n        #info {\n            padding: 16px;\n            background: #e3f2fd;\n            border-radius: 8px;\n            margin: 16px 0;\n        }\n        \n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 8px 0;\n            font-size: 14px;\n        }\n        \n        .legend {\n            display: flex;\n            gap: 16px;\n            margin-top: 8px;\n            font-size: 12px;\n        }\n        \n        .legend-item {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n        \n        .legend-color {\n            width: 16px;\n            height: 16px;\n            border-radius: 50%;\n        }\n        \n        .status {\n            font-weight: 600;\n            color: #333;\n            margin-top: 8px;\n        }\n        \n        .status.reversible {\n            color: #7ED321;\n        }\n        \n        .status.irreversible {\n            color: #F5A623;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"app\">\n        <header>\n            <h1>Reversible vs Irreversible Changes</h1>\n            <p class=\"subtitle\">Interactive science lab simulation with detective's magnifying glass</p>\n        </header>\n        \n        <div id=\"visual-area\">\n            <div class=\"lab-bench\">\n                <div class=\"beaker-container\">\n                    <div class=\"beaker-label\">Beaker A</div>\n                    <div class=\"beaker\" id=\"beaker-a\">\n                        <div class=\"beaker-glass\"></div>\n                        <div class=\"water\" id=\"water-a\"></div>\n                        <div class=\"salt\" id=\"salt-a\"></div>\n                        <div class=\"salt-crystals\" id=\"salt-crystals-a\"></div>\n                        <div class=\"steam\" id=\"steam-a\">\n                            <div class=\"steam-circle\" style=\"left: 20%;\"></div>\n                            <div class=\"steam-circle\" style=\"left: 50%;\"></div>\n                            <div class=\"steam-circle\" style=\"left: 80%;\"></div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class=\"beaker-container\">\n                    <div class=\"beaker-label\">Beaker B</div>\n                    <div class=\"beaker\" id=\"beaker-b\">\n                        <div class=\"beaker-glass\"></div>\n                        <div class=\"water\" id=\"water-b\"></div>\n                    </div>\n                </div>\n                \n                <div class=\"heat-lamp\" id=\"heat-lamp\"></div>\n                <div class=\"magnifying-glass\" id=\"magnifying-glass\"></div>\n            </div>\n        </div>\n        \n        <div id=\"controls\">\n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Salt Amount</span>\n                    <span id=\"salt-value\">0 g</span>\n                </div>\n                <input type=\"range\" id=\"salt-slider\" min=\"0\" max=\"50\" value=\"0\">\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Heat Intensity</span>\n                    <span id=\"heat-value\">0%</span>\n                </div>\n                <input type=\"range\" id=\"heat-slider\" min=\"0\" max=\"100\" value=\"0\">\n            </div>\n            \n            <button id=\"dissolve-btn\">Dissolve Salt in Beaker A</button>\n            <button class=\"secondary\" id=\"evaporate-btn\">Evaporate Water to Beaker B</button>\n            <button class=\"tertiary\" id=\"reset-btn\">Reset Experiment</button>\n        </div>\n        \n        <div id=\"info\">\n            <div class=\"info-row\">\n                <span>Change Type:</span>\n                <span id=\"change-type\">None</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Beaker A - Water:</span>\n                <span id=\"water-a-level\">100%</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Beaker A - Salt:</span>\n                <span id=\"salt-a-level\">0%</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Beaker B - Water:</span>\n                <span id=\"water-b-level\">0%</span>\n            </div>\n            <div class=\"legend\">\n                <div class=\"legend-item\">\n                    <div class=\"legend-color\" style=\"background: #4A90E2;\"></div>\n                    <span>Water</span>\n                </div>\n                <div class=\"legend-item\">\n                    <div class=\"legend-color\" style=\"background: #7ED321;\"></div>\n                    <span>Reversible</span>\n                </div>\n                <div class=\"legend-item\">\n                    <div class=\"legend-color\" style=\"background: #F5A623;\"></div>\n                    <span>Irreversible</span>\n                </div>\n            </div>\n            <div class=\"status\" id=\"status\">Observe the changes with your detective's magnifying glass</div>\n        </div>\n    </div>\n    \n    <script>\n        // State variables\n        let currentState = {\n            saltAmount: 0,\n            waterALevel: 100,\n            waterBLevel: 0,\n            saltADissolved: 0,\n            saltACrystals: 0,\n            heatIntensity: 0,\n            changeType: 'None'\n        };\n        \n        // DOM elements\n        const saltSlider = document.getElementById('salt-slider');\n        const heatSlider = document.getElementById('heat-slider');\n        const saltValue = document.getElementById('salt-value');\n        const heatValue = document.getElementById('heat-value');\n        const dissolveBtn = document.getElementById('dissolve-btn');\n        const evaporateBtn = document.getElementById('evaporate-btn');\n        const resetBtn = document.getElementById('reset-btn');\n        \n        const waterA = document.getElementById('water-a');\n        const saltA = document.getElementById('salt-a');\n        const saltCrystalsA = document.getElementById('salt-crystals-a');\n        const steamA = document.getElementById('steam-a');\n        const waterB = document.getElementById('water-b');\n        const heatLamp = document.getElementById('heat-lamp');\n        const magnifyingGlass = document.getElementById('magnifying-glass');\n        \n        const changeType = document.getElementById('change-type');\n        const waterALevel = document.getElementById('water-a-level');\n        const saltALevel = document.getElementById('salt-a-level');\n        const waterBLevel = document.getElementById('water-b-level');\n        const status = document.getElementById('status');\n        \n        // Initialize visuals\n        function initVisuals() {\n            updateWaterA();\n            updateSaltA();\n            updateSaltCrystalsA();\n            updateSteamA();\n            updateWaterB();\n            updateHeatLamp();\n            updateMagnifyingGlass();\n            updateDisplayValues();\n        }\n        \n        // Update functions\n        function updateWaterA() {\n            waterA.style.height = currentState.waterALevel + '%';\n        }\n        \n        function updateSaltA() {\n            saltA.style.height = currentState.saltADissolved + '%';\n            saltA.style.opacity = currentState.saltADissolved > 0 ? '0.8' : '0';\n        }\n        \n        function updateSaltCrystalsA() {\n            saltCrystalsA.style.height = currentState.saltACrystals + '%';\n            saltCrystalsA.style.opacity = currentState.saltACrystals > 0 ? '1' : '0';\n        }\n        \n        function updateSteamA() {\n            const steamHeight = currentState.heatIntensity * 0.5;\n            steamA.style.height = steamHeight + 'px';\n            \n            const steamCircles = steamA.querySelectorAll('.steam-circle');\n            steamCircles.forEach((circle, index) => {\n                circle.style.opacity = currentState.heatIntensity > 0 ? '0.7' : '0';\n                circle.style.transform = currentState.heatIntensity > 0 ? \n                    'translateY(' + (steamHeight - 20 - index * 10) + 'px)' : 'translateY(0)';\n            });\n        }\n        \n        function updateWaterB() {\n            waterB.style.height = currentState.waterBLevel + '%';\n        }\n        \n        function updateHeatLamp() {\n            heatLamp.style.opacity = currentState.heatIntensity > 0 ? '1' : '0';\n            heatLamp.style.transform = currentState.heatIntensity > 0 ? 'translateY(-10px)' : 'translateY(0)';\n            heatLamp.style.filter = currentState.heatIntensity > 0 ? \n                'brightness(' + (1 + currentState.heatIntensity / 100) + ')' : 'brightness(1)';\n        }\n        \n        function updateMagnifyingGlass() {\n            // Position magnifying glass over Beaker A\n            const beakerA = document.getElementById('beaker-a');\n            const rect = beakerA.getBoundingClientRect();\n            const appRect = document.getElementById('app').getBoundingClientRect();\n            \n            magnifyingGlass.style.left = (rect.left - appRect.left + rect.width / 2 - 30) + 'px';\n            magnifyingGlass.style.top = (rect.top - appRect.top + rect.height / 2 - 30) + 'px';\n            magnifyingGlass.style.opacity = '1';\n            magnifyingGlass.style.transform = 'scale(1.2)';\n        }\n        \n        function updateDisplayValues() {\n            saltValue.textContent = currentState.saltAmount + ' g';\n            heatValue.textContent = currentState.heatIntensity + '%';\n            waterALevel.textContent = currentState.waterALevel + '%';\n            saltALevel.textContent = currentState.saltADissolved + '%';\n            waterBLevel.textContent = currentState.waterBLevel + '%';\n            changeType.textContent = currentState.changeType;\n            \n            // Update status color\n            if (currentState.changeType === 'Reversible') {\n                status.className = 'status reversible';\n                status.textContent = 'Reversible Change: Salt dissolving in water can be undone by evaporating the water.';\n            } else if (currentState.changeType === 'Irreversible') {\n                status.className = 'status irreversible';\n                status.textContent = 'Irreversible Change: Water evaporation changes the state permanently.';\n            } else {\n                status.className = 'status';\n                status.textContent = 'Observe the changes with your detective\\'s magnifying glass';\n            }\n        }\n        \n        // Animation functions\n        function animateSaltDissolving() {\n            currentState.changeType = 'Reversible';\n            currentState.saltACrystals = currentState.saltAmount;\n            updateSaltCrystalsA();\n            \n            // Animate dissolving\n            let progress = 0;\n            const dissolveInterval = setInterval(() => {\n                progress += 5;\n                currentState.saltACrystals = currentState.saltAmount * (1 - progress / 100);\n                currentState.saltADissolved = currentState.saltAmount * (progress / 100);\n                \n                updateSaltCrystalsA();\n                updateSaltA();\n                updateMagnifyingGlass();\n                \n                if (progress >= 100) {\n                    clearInterval(dissolveInterval);\n                    status.textContent = 'Salt has dissolved! This is a reversible change.';\n                }\n            }, 100);\n        }\n        \n        function animateEvaporation() {\n            currentState.changeType = 'Irreversible';\n            \n            let evaporated = 0;\n            const totalToEvaporate = 30; // 30% of water\n            \n            const evapInterval = setInterval(() => {\n                if (currentState.waterALevel <= 0 || evaporated >= totalToEvaporate) {\n                    clearInterval(evapInterval);\n                    currentState.heatIntensity = 0;\n                    updateHeatLamp();\n                    updateSteamA();\n                    status.textContent = 'Water has evaporated to Beaker B! This is an irreversible change.';\n                    return;\n                }\n                \n                currentState.waterALevel -= 2;\n                currentState.waterBLevel += 2;\n                evaporated += 2;\n                \n                updateWaterA();\n                updateWaterB();\n                updateSteamA();\n                updateMagnifyingGlass();\n                updateDisplayValues();\n            }, 200);\n        }\n        \n        // Event listeners\n        saltSlider.addEventListener('input', (e) => {\n            currentState.saltAmount = parseInt(e.target.value);\n            updateDisplayValues();\n            \n            // Update salt crystals if not dissolved\n            if (currentState.saltADissolved === 0) {\n                currentState.saltACrystals = currentState.saltAmount;\n                updateSaltCrystalsA();\n            }\n        });\n        \n        heatSlider.addEventListener('input', (e) => {\n            currentState.heatIntensity = parseInt(e.target.value);\n            updateHeatLamp();\n            updateSteamA();\n            updateDisplayValues();\n        });\n        \n        dissolveBtn.addEventListener('click', () => {\n            if (currentState.saltAmount > 0) {\n                animateSaltDissolving();\n                updateDisplayValues();\n            }\n        });\n        \n        evaporateBtn.addEventListener('click', () => {\n            if (currentState.waterALevel > 0) {\n                currentState.heatIntensity = 100;\n                updateHeatLamp();\n                animateEvaporation();\n                updateDisplayValues();\n            }\n        });\n        \n        resetBtn.addEventListener('click', () => {\n            currentState = {\n                saltAmount: 0,\n                waterALevel: 100,\n                waterBLevel: 0,\n                saltADissolved: 0,\n                saltACrystals: 0,\n                heatIntensity: 0,\n                changeType: 'None'\n            };\n            \n            saltSlider.value = '0';\n            heatSlider.value = '0';\n            \n            updateVisuals();\n            updateDisplayValues();\n        });\n        \n        // Window resize handler for magnifying glass\n        window.addEventListener('resize', updateMagnifyingGlass);\n        \n        // Initialize\n        function updateVisuals() {\n            updateWaterA();\n            updateSaltA();\n            updateSaltCrystalsA();\n            updateSteamA();\n            updateWaterB();\n            updateHeatLamp();\n            updateMagnifyingGlass();\n        }\n        \n        initVisuals();\n    </script>\n</body>\n</html>",
  "explanations": [
    "Added viewport meta tag for proper mobile responsiveness",
    "Fixed visual centering by ensuring #visual-area has proper flexbox centering",
    "Ensured all touch targets (buttons, sliders) meet minimum 48px height requirement",
    "Added proper overflow handling to prevent layout issues",
    "Fixed all CSS transitions for smooth animations",
    "Ensured proper DOM element references and event listener attachments",
    "Added proper opacity and transform transitions for visual effects",
    "Fixed magnifying glass positioning with proper coordinate calculations",
    "Ensured all state updates trigger proper visual updates",
    "Added proper error handling for edge cases in animations"
  ]
}