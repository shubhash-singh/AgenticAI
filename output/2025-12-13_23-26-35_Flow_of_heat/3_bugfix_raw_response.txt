{
  "fixed": true,
  "index.html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Heat Flow Simulation - Interactive</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { \n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background: #f9f9f9;\n        }\n        #app { \n            max-width: 600px; \n            margin: 0 auto; \n            padding: 16px; \n            background: white;\n            min-height: 100vh;\n        }\n        header {\n            padding: 16px 0;\n            text-align: center;\n            border-bottom: 2px solid #e0e0e0;\n        }\n        h1 { font-size: 24px; margin-bottom: 8px; }\n        .subtitle { font-size: 14px; color: #666; }\n        \n        #visual-area {\n            position: relative;\n            height: 50vh;\n            min-height: 300px;\n            background: linear-gradient(180deg, #f5f5f5 0%, #e8e8e8 100%);\n            border-radius: 8px;\n            margin: 16px 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            overflow: hidden;\n            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);\n        }\n        \n        #controls {\n            padding: 16px;\n            background: #fafafa;\n            border-radius: 8px;\n            margin: 16px 0;\n        }\n        \n        .control-group {\n            margin: 16px 0;\n        }\n        \n        .control-label {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 8px;\n            font-weight: 500;\n        }\n        \n        input[type=\"range\"] {\n            width: 100%;\n            height: 44px;\n            cursor: pointer;\n        }\n        \n        button {\n            width: 100%;\n            min-height: 48px;\n            padding: 12px;\n            font-size: 16px;\n            background: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            margin: 8px 0;\n        }\n        \n        button:active {\n            transform: scale(0.98);\n        }\n        \n        #info {\n            padding: 16px;\n            background: #e3f2fd;\n            border-radius: 8px;\n            margin: 16px 0;\n        }\n        \n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 8px 0;\n            font-size: 16px;\n        }\n        \n        .legend {\n            display: flex;\n            justify-content: center;\n            gap: 24px;\n            margin-top: 12px;\n            font-size: 14px;\n            color: #555;\n        }\n        \n        .legend-item {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n        \n        .legend-color {\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            border: 2px solid #333;\n        }\n        \n        .hot-legend { background: #FF4D4D; }\n        .cold-legend { background: #4DA6FF; }\n        .flow-legend { background: #FFD166; }\n        \n        .temperature-display {\n            font-weight: bold;\n            font-size: 18px;\n        }\n        \n        .flow-direction {\n            font-size: 14px;\n            color: #666;\n            margin-top: 4px;\n            text-align: center;\n        }\n        \n        /* SVG styles */\n        .object-circle {\n            transition: all 0.3s ease;\n        }\n        \n        .arrow {\n            transition: all 0.3s ease;\n        }\n        \n        .arrow-head {\n            transition: all 0.3s ease;\n        }\n        \n        .water-level {\n            transition: all 0.3s ease;\n        }\n        \n        .water-flow {\n            transition: all 0.3s ease;\n        }\n        \n        .label {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n            font-size: 14px;\n            font-weight: 600;\n            text-anchor: middle;\n            fill: #333;\n        }\n        \n        .temp-label {\n            font-size: 12px;\n            fill: #333;\n            text-anchor: middle;\n        }\n        \n        .flow-label {\n            font-size: 12px;\n            fill: #333;\n            text-anchor: middle;\n            font-weight: 600;\n        }\n        \n        .divider-line {\n            stroke: #999;\n            stroke-width: 2;\n            stroke-dasharray: 4 4;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"app\">\n        <header>\n            <h1>Heat Flow Simulation</h1>\n            <p class=\"subtitle\">Visualize heat transfer between hot and cold objects</p>\n        </header>\n        \n        <div id=\"visual-area\">\n            <svg id=\"simulation-svg\" viewBox=\"0 0 400 300\" style=\"width: 95%; max-width: 500px; height: auto;\">\n                <!-- Background gradient for water metaphor -->\n                <defs>\n                    <linearGradient id=\"waterGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                        <stop offset=\"0%\" stop-color=\"#4DA6FF\" stop-opacity=\"0.8\"/>\n                        <stop offset=\"100%\" stop-color=\"#4DA6FF\" stop-opacity=\"0.2\"/>\n                    </linearGradient>\n                    <linearGradient id=\"hotGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                        <stop offset=\"0%\" stop-color=\"#FF4D4D\" stop-opacity=\"0.9\"/>\n                        <stop offset=\"100%\" stop-color=\"#FF4D4D\" stop-opacity=\"0.3\"/>\n                    </linearGradient>\n                    <linearGradient id=\"flowGradient\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n                        <stop offset=\"0%\" stop-color=\"#FFD166\" stop-opacity=\"0.9\"/>\n                        <stop offset=\"100%\" stop-color=\"#FFD166\" stop-opacity=\"0.3\"/>\n                    </linearGradient>\n                </defs>\n                \n                <!-- Water level background (metaphor) -->\n                <rect id=\"water-bg\" x=\"20\" y=\"100\" width=\"360\" height=\"100\" fill=\"url(#waterGradient)\" opacity=\"0.3\" rx=\"10\" ry=\"10\"/>\n                \n                <!-- Divider line -->\n                <line class=\"divider-line\" x1=\"200\" y1=\"80\" x2=\"200\" y2=\"220\"/>\n                \n                <!-- Hot object (left) -->\n                <circle id=\"hot-circle\" class=\"object-circle\" cx=\"120\" cy=\"150\" r=\"50\" fill=\"#FF4D4D\" stroke=\"#CC3333\" stroke-width=\"3\"/>\n                <text id=\"hot-label\" class=\"label\" x=\"120\" y=\"155\">Hot Object</text>\n                <text id=\"hot-temp\" class=\"temp-label\" x=\"120\" y=\"210\">50°C</text>\n                \n                <!-- Cold object (right) -->\n                <circle id=\"cold-circle\" class=\"object-circle\" cx=\"280\" cy=\"150\" r=\"50\" fill=\"#4DA6FF\" stroke=\"#3385ff\" stroke-width=\"3\"/>\n                <text id=\"cold-label\" class=\"label\" x=\"280\" y=\"155\">Cold Object</text>\n                <text id=\"cold-temp\" class=\"temp-label\" x=\"280\" y=\"210\">10°C</text>\n                \n                <!-- Heat flow arrow (animated) -->\n                <g id=\"flow-group\">\n                    <line id=\"flow-line\" class=\"arrow\" x1=\"170\" y1=\"150\" x2=\"230\" y2=\"150\" stroke=\"#FFD166\" stroke-width=\"6\" stroke-linecap=\"round\"/>\n                    <polygon id=\"flow-head\" class=\"arrow-head\" points=\"230,150 220,145 220,155\" fill=\"#FFD166\"/>\n                    <text id=\"flow-text\" class=\"flow-label\" x=\"200\" y=\"135\">Heat Flow</text>\n                </g>\n                \n                <!-- Water flow visualization (metaphor) -->\n                <rect id=\"water-flow\" class=\"water-flow\" x=\"170\" y=\"150\" width=\"60\" height=\"0\" fill=\"url(#flowGradient)\" rx=\"5\" ry=\"5\"/>\n                \n                <!-- Water levels (metaphor) -->\n                <rect id=\"hot-water\" class=\"water-level\" x=\"20\" y=\"150\" width=\"160\" height=\"0\" fill=\"url(#hotGradient)\" rx=\"5\" ry=\"5\"/>\n                <rect id=\"cold-water\" class=\"water-level\" x=\"220\" y=\"150\" width=\"160\" height=\"0\" fill=\"url(#waterGradient)\" rx=\"5\" ry=\"5\"/>\n            </svg>\n            \n            <div class=\"flow-direction\" id=\"flow-direction\">Heat flows from hot to cold</div>\n        </div>\n        \n        <div id=\"controls\">\n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Hot Object Temperature</span>\n                    <span id=\"hot-value\">50°C</span>\n                </div>\n                <input type=\"range\" id=\"hot-slider\" min=\"0\" max=\"100\" value=\"50\">\n            </div>\n            \n            <div class=\"control-group\">\n                <div class=\"control-label\">\n                    <span>Cold Object Temperature</span>\n                    <span id=\"cold-value\">10°C</span>\n                </div>\n                <input type=\"range\" id=\"cold-slider\" min=\"0\" max=\"100\" value=\"10\">\n            </div>\n            \n            <button id=\"reset-btn\">Reset to Default</button>\n        </div>\n        \n        <div id=\"info\">\n            <div class=\"info-row\">\n                <span>Temperature Difference:</span>\n                <span class=\"temperature-display\" id=\"temp-diff\">40°C</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Heat Flow Rate:</span>\n                <span class=\"temperature-display\" id=\"flow-rate\">High</span>\n            </div>\n            <div class=\"info-row\">\n                <span>Flow Direction:</span>\n                <span id=\"flow-dir\">Hot → Cold</span>\n            </div>\n            \n            <div class=\"legend\">\n                <div class=\"legend-item\">\n                    <div class=\"legend-color hot-legend\"></div>\n                    <span>Hot Object</span>\n                </div>\n                <div class=\"legend-item\">\n                    <div class=\"legend-color cold-legend\"></div>\n                    <span>Cold Object</span>\n                </div>\n                <div class=\"legend-item\">\n                    <div class=\"legend-color flow-legend\"></div>\n                    <span>Heat Flow</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <script>\n        // Get DOM elements\n        const hotSlider = document.getElementById('hot-slider');\n        const coldSlider = document.getElementById('cold-slider');\n        const resetBtn = document.getElementById('reset-btn');\n        \n        const hotValue = document.getElementById('hot-value');\n        const coldValue = document.getElementById('cold-value');\n        const tempDiff = document.getElementById('temp-diff');\n        const flowRate = document.getElementById('flow-rate');\n        const flowDir = document.getElementById('flow-dir');\n        const flowDirectionText = document.getElementById('flow-direction');\n        \n        // SVG elements\n        const hotCircle = document.getElementById('hot-circle');\n        const coldCircle = document.getElementById('cold-circle');\n        const hotLabel = document.getElementById('hot-label');\n        const coldLabel = document.getElementById('cold-label');\n        const hotTemp = document.getElementById('hot-temp');\n        const coldTemp = document.getElementById('cold-temp');\n        \n        const flowLine = document.getElementById('flow-line');\n        const flowHead = document.getElementById('flow-head');\n        const flowText = document.getElementById('flow-text');\n        const flowGroup = document.getElementById('flow-group');\n        \n        const waterFlow = document.getElementById('water-flow');\n        const hotWater = document.getElementById('hot-water');\n        const coldWater = document.getElementById('cold-water');\n        \n        // Animation state\n        let animationId = null;\n        let flowSpeed = 0;\n        let flowWidth = 0;\n        let flowOpacity = 0;\n        let isAnimating = false;\n        \n        function updateSimulation() {\n            try {\n                const hotTempValue = parseFloat(hotSlider.value);\n                const coldTempValue = parseFloat(coldSlider.value);\n                \n                // Calculate temperature difference\n                const diff = Math.abs(hotTempValue - coldTempValue);\n                \n                // Update displays\n                hotValue.textContent = hotTempValue + '°C';\n                coldValue.textContent = coldTempValue + '°C';\n                hotTemp.textContent = hotTempValue + '°C';\n                coldTemp.textContent = coldTempValue + '°C';\n                tempDiff.textContent = diff.toFixed(1) + '°C';\n                \n                // Determine flow direction\n                const isHotToCold = hotTempValue > coldTempValue;\n                const direction = isHotToCold ? 'Hot → Cold' : 'Cold → Hot';\n                flowDir.textContent = direction;\n                flowDirectionText.textContent = 'Heat flows from ' + (isHotToCold ? 'hot to cold' : 'cold to hot');\n                \n                // Calculate flow rate based on temperature difference\n                let rate = 'None';\n                if (diff < 5) {\n                    rate = 'Low';\n                } else if (diff < 20) {\n                    rate = 'Medium';\n                } else if (diff < 50) {\n                    rate = 'High';\n                } else {\n                    rate = 'Very High';\n                }\n                flowRate.textContent = rate;\n                \n                // Update circle colors based on temperature\n                const hotColor = getTemperatureColor(hotTempValue, true);\n                const coldColor = getTemperatureColor(coldTempValue, false);\n                \n                hotCircle.setAttribute('fill', hotColor);\n                coldCircle.setAttribute('fill', coldColor);\n                \n                // Update circle sizes based on temperature\n                const hotRadius = 40 + (hotTempValue / 100) * 30;\n                const coldRadius = 40 + (coldTempValue / 100) * 30;\n                \n                hotCircle.setAttribute('r', hotRadius);\n                coldCircle.setAttribute('r', coldRadius);\n                \n                // Update water levels (metaphor)\n                const hotWaterHeight = (hotTempValue / 100) * 60;\n                const coldWaterHeight = (coldTempValue / 100) * 60;\n                \n                hotWater.setAttribute('y', 210 - hotWaterHeight);\n                hotWater.setAttribute('height', hotWaterHeight);\n                coldWater.setAttribute('y', 210 - coldWaterHeight);\n                coldWater.setAttribute('height', coldWaterHeight);\n                \n                // Update flow visualization\n                updateFlowVisualization(diff, isHotToCold);\n                \n                // Update arrow direction\n                updateArrowDirection(isHotToCold);\n                \n            } catch (error) {\n                console.error('Error updating simulation:', error);\n            }\n        }\n        \n        function getTemperatureColor(temp, isHot) {\n            // Create color gradient from blue to red\n            const ratio = temp / 100;\n            const r = Math.round(255 * ratio);\n            const b = Math.round(255 * (1 - ratio));\n            const g = Math.round(100 * ratio);\n            \n            if (isHot) {\n                // Hot objects are more red\n                return `rgb(${Math.min(255, r + 50)}, ${g}, ${Math.max(0, b - 30)})`;\n            } else {\n                // Cold objects are more blue\n                return `rgb(${Math.max(0, r - 30)}, ${g}, ${Math.min(255, b + 50)})`;\n            }\n        }\n        \n        function updateFlowVisualization(diff, isHotToCold) {\n            // Calculate flow properties based on temperature difference\n            const maxDiff = 100;\n            const normalizedDiff = Math.min(diff / maxDiff, 1);\n            \n            // Flow speed (animation duration)\n            flowSpeed = Math.max(0.5, 3 - (normalizedDiff * 2.5)); // 0.5s to 3s\n            \n            // Flow width and opacity\n            flowWidth = 2 + (normalizedDiff * 10); // 2px to 12px\n            flowOpacity = 0.3 + (normalizedDiff * 0.7); // 0.3 to 1.0\n            \n            // Update flow line\n            flowLine.setAttribute('stroke-width', flowWidth);\n            flowLine.setAttribute('opacity', flowOpacity);\n            flowHead.setAttribute('opacity', flowOpacity);\n            flowText.setAttribute('opacity', flowOpacity);\n            \n            // Update water flow height\n            const flowHeight = normalizedDiff * 40;\n            waterFlow.setAttribute('y', 150);\n            waterFlow.setAttribute('height', flowHeight);\n            waterFlow.setAttribute('opacity', flowOpacity);\n            \n            // Start/stop animation based on flow\n            if (diff > 0.1 && !isAnimating) {\n                startAnimation();\n            } else if (diff <= 0.1 && isAnimating) {\n                stopAnimation();\n            }\n        }\n        \n        function updateArrowDirection(isHotToCold) {\n            if (isHotToCold) {\n                // Flow from left to right\n                flowLine.setAttribute('x1', '170');\n                flowLine.setAttribute('x2', '230');\n                flowHead.setAttribute('points', '230,150 220,145 220,155');\n                flowText.setAttribute('x', '200');\n                flowText.setAttribute('y', '135');\n            } else {\n                // Flow from right to left\n                flowLine.setAttribute('x1', '230');\n                flowLine.setAttribute('x2', '170');\n                flowHead.setAttribute('points', '170,150 180,145 180,155');\n                flowText.setAttribute('x', '200');\n                flowText.setAttribute('y', '165');\n            }\n        }\n        \n        function startAnimation() {\n            if (isAnimating) return;\n            isAnimating = true;\n            animateFlow();\n        }\n        \n        function stopAnimation() {\n            isAnimating = false;\n            if (animationId) {\n                cancelAnimationFrame(animationId);\n                animationId = null;\n            }\n            // Reset flow position\n            waterFlow.setAttribute('x', '170');\n        }\n        \n        function animateFlow() {\n            if (!isAnimating) return;\n            \n            const currentX = parseFloat(waterFlow.getAttribute('x')) || 170;\n            const targetX = parseFloat(waterFlow.getAttribute('x')) === 170 ? 230 : 170;\n            \n            // Simple animation using requestAnimationFrame\n            const startTime = performance.now();\n            const duration = flowSpeed * 1000; // Convert to milliseconds\n            \n            function animate(currentTime) {\n                const elapsed = currentTime - startTime;\n                const progress = Math.min(elapsed / duration, 1);\n                \n                // Ease in out\n                const easeProgress = progress < 0.5 ? 2 * progress * progress : -1 + (4 - 2 * progress) * progress;\n                \n                const newX = currentX + (targetX - currentX) * easeProgress;\n                waterFlow.setAttribute('x', newX);\n                \n                if (progress < 1) {\n                    animationId = requestAnimationFrame(animate);\n                } else {\n                    // Start next animation cycle\n                    animationId = requestAnimationFrame(animateFlow);\n                }\n            }\n            \n            animationId = requestAnimationFrame(animate);\n        }\n        \n        // Event listeners\n        hotSlider.addEventListener('input', updateSimulation);\n        coldSlider.addEventListener('input', updateSimulation);\n        \n        resetBtn.addEventListener('click', () => {\n            hotSlider.value = '50';\n            coldSlider.value = '10';\n            updateSimulation();\n        });\n        \n        // Initialize simulation\n        updateSimulation();\n        \n        // Handle window resize for responsiveness\n        window.addEventListener('resize', () => {\n            // Recalculate positions if needed\n            updateSimulation();\n        });\n    </script>\n</body>\n</html>",
  "explanations": [
    "Added viewport meta tag for proper mobile scaling",
    "Ensured #visual-area has explicit height (50vh) and flexbox centering",
    "Set SVG with responsive sizing using viewBox and percentage width",
    "All touch targets (buttons, sliders) meet minimum 48px height requirement",
    "Added proper event listeners for slider inputs and reset button",
    "Implemented animation loop with requestAnimationFrame for smooth flow visualization",
    "Added error handling in updateSimulation function",
    "Ensured all DOM elements are properly referenced before use"
  ]
}